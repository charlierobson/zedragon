# Table of Contents
### 8-Bit Load Group
- [LD r, r'](#ld-r-r)
- [LD r,n](#ld-rn)
- [LD r, (HL)](#ld-r-hl)
- [LD r, (IX+d)](#ld-r-ixd)
- [LD r, (IY+d)](#ld-r-iyd)
- [LD (HL), r](#ld-hl-r)
- [LD (IX+d), r](#ld-ixd-r)
- [LD (IY+d), r](#ld-iyd-r)
- [LD (HL), n](#ld-hl-n)
- [LD (IX+d), n](#ld-ixd-n)
- [LD (IY+d), n](#ld-iyd-n)
- [LD A, (BC)](#ld-a-bc)
- [LD A, (DE)](#ld-a-de)
- [LD A, (nn)](#ld-a-nn)
- [LD (BC), A](#ld-bc-a)
- [LD (DE), A](#ld-de-a)
- [LD (nn), A](#ld-nn-a)
- [LD A, I](#ld-a-i)
- [LD A, R](#ld-a-r)
- [LD I,A](#ld-ia)
- [LD R, A](#ld-r-a)
### 16-Bit Load Group
- [LD dd, nn](#ld-dd-nn)
- [LD IX, nn](#ld-ix-nn)
- [LD IY, nn](#ld-iy-nn)
- [LD HL, (nn)](#ld-hl-nn)
- [LD dd, (nn)](#ld-dd-nn)
- [LD IX, (nn)](#ld-ix-nn)
- [LD IY, (nn)](#ld-iy-nn)
- [LD (nn), HL](#ld-nn-hl)
- [LD (nn), dd](#ld-nn-dd)
- [LD (nn), IX](#ld-nn-ix)
- [LD (nn), IY](#ld-nn-iy)
- [LD SP, HL](#ld-sp-hl)
- [LD SP, IX](#ld-sp-ix)
- [LD SP, IY](#ld-sp-iy)
- [PUSH qq](#push-qq)
- [PUSH IX](#push-ix)
- [PUSH IY](#push-iy)
- [POP qq](#pop-qq)
- [POP IX](#pop-ix)
- [POP IY](#pop-iy)
### Exchange, Block Transfer, and Search Group
- [EX DE, HL](#ex-de-hl)
- [EX AF, AF′](#ex-af-af′)
- [EXX](#exx)
- [EX (SP), HL](#ex-sp-hl)
- [EX (SP), IX](#ex-sp-ix)
- [EX (SP), IY](#ex-sp-iy)
- [LDI](#ldi)
- [LDIR](#ldir)
- [LDD](#ldd)
- [LDDR](#lddr)
- [CPI](#cpi)
- [CPIR](#cpir)
- [CPD](#cpd)
- [CPDR](#cpdr)
### 8-Bit Arithmetic Group
- [ADD A, r](#add-a-r)
- [ADD A, n](#add-a-n)
- [ADD A, (HL)](#add-a-hl)
- [ADD A, (IX + d)](#add-a-ix--d)
- [ADD A, (IY + d)](#add-a-iy--d)
- [ADC A, s](#adc-a-s)
- [SUB s](#sub-s)
- [SBC A, s](#sbc-a-s)
- [AND s](#and-s)
- [OR s](#or-s)
- [XOR s](#xor-s)
- [CP s](#cp-s)
- [INC r](#inc-r)
- [INC (HL)](#inc-hl)
- [INC (IX+d)](#inc-ixd)
- [INC (IY+d)](#inc-iyd)
- [DEC m](#dec-m)
### General-Purpose Arithmetic and CPU Control Groups
- [DAA](#daa)
- [CPL](#cpl)
- [NEG](#neg)
- [CCF](#ccf)
- [SCF](#scf)
- [NOP](#nop)
- [HALT](#halt)
- [DI](#di)
- [EI](#ei)
- [IM 0](#im-0)
- [IM](#im)
- [IM 1](#im-1)
- [IM 2](#im-2)
### 16-Bit Arithmetic Group
- [ADD HL, ss](#add-hl-ss)
- [ADC HL, ss](#adc-hl-ss)
- [SBC HL, ss](#sbc-hl-ss)
- [ADD IX, pp](#add-ix-pp)
- [ADD IY, rr](#add-iy-rr)
- [INC ss](#inc-ss)
- [INC IX](#inc-ix)
- [INC IY](#inc-iy)
- [DEC ss](#dec-ss)
- [DEC IX](#dec-ix)
- [DEC IY](#dec-iy)
### Rotate and Shift Group
- [RLCA](#rlca)
- [RLA](#rla)
- [RRCA](#rrca)
- [RRA](#rra)
- [RLC r](#rlc-r)
- [RLC (HL)](#rlc-hl)
- [RLC (IX+d)](#rlc-ixd)
- [RLC (IY+d)](#rlc-iyd)
- [RL m](#rl-m)
- [RRC m](#rrc-m)
- [RR m](#rr-m)
- [SLA m](#sla-m)
- [SRA m](#sra-m)
- [SRL m](#srl-m)
- [RLD](#rld)
- [RRD](#rrd)
### Bit Set, Reset, and Test Group
- [BIT b, r](#bit-b-r)
- [BIT b, (HL)](#bit-b-hl)
- [BIT b, (IX+d)](#bit-b-ixd)
- [BIT b, (IY+d)](#bit-b-iyd)
- [SET b, r](#set-b-r)
- [SET b, (HL)](#set-b-hl)
- [SET b, (IX+d)](#set-b-ixd)
- [SET b, (IY+d)](#set-b-iyd)
- [RES b, m](#res-b-m)
### Jump Group
- [JP nn](#jp-nn)
- [JP cc, nn](#jp-cc-nn)
- [JR e](#jr-e)
- [JR C, e](#jr-c-e)
- [JR NC, e](#jr-nc-e)
- [JR Z, e](#jr-z-e)
- [JR NZ, e](#jr-nz-e)
- [JP (HL)](#jp-hl)
- [JP (IX)](#jp-ix)
- [JP (IY)](#jp-iy)
- [DJNZ, e](#djnz-e)
### Call and Return Group
- [CALL nn](#call-nn)
- [CALL cc, nn](#call-cc-nn)
- [RET](#ret)
- [RET cc](#ret-cc)
- [RETI](#reti)
- [RETN](#retn)
- [RST p](#rst-p)
### Input and Output Group
- [IN A, (n)](#in-a-n)
- [IN r (C)](#in-r-c)
- [INI](#ini)
- [INIR](#inir)
- [IND](#ind)
- [INDR](#indr)
- [OUT (n), A](#out-n-a)
- [OUT (C), r](#out-c-r)
- [OUTI](#outi)
- [OTIR](#otir)
- [OUTD](#outd)
- [OTDR](#otdr)

---

### LD r, r'

Operation
r, ← r′

Description
The contents of any register r' are loaded to any other register r. r, r' identifies any of the
registers A, B, C, D, E, H, or L, assembled as follows in the object code:

Condition Bits Affected

None.

Example
If the H Register contains the number 8Ah, and the E register contains 10h, the instruction
LD H, E results in both registers containing 10h.

Register r, C

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.0

[^ toc ^](#table-of-contents)

---

### LD r,n

Operation
r ← n

Description
The 8-bit integer n is loaded to any register r, in which r identifies registers A, B, C, D, E,
H, or L, assembled as follows in the object code:

Condition Bits Affected

None.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

Example
Upon the execution of an LD E, A5h instruction, Register E contains A5h.

[^ toc ^](#table-of-contents)

---

### LD r, (HL)

Operation
r ← (HL)

Description
The 8-bit contents of memory location (HL) are loaded to register r, in which r identifies
registers A, B, C, D, E, H, or L, assembled as follows in the object code:

Condition Bits Affected

None.

Example
If register pair HL contains the number 75A1h, and memory address 75A1h contains byte
58h, the execution of LD C, (HL) results in 58h in Register C.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

[^ toc ^](#table-of-contents)

---

### LD r, (IX+d)

Operation
r ← (IX+d)

Op Code
LD 

Description
The (IX+d) operand (i.e., the contents of Index Register IX summed with two’s-comple-
ment displacement integer d) is loaded to register r, in which r identifies registers A, B, C,
D, E, H, or L, assembled as follows in the object code:

Condition Bits Affected

None.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 4, 3, 5, 3)|2.50

Example
If Index Register IX contains the number 25AFh, the instruction LD B, (IX+19h) allows
the calculation of the sum 25AFh + 19h, which points to memory location 25C8h. If this
address contains byte 39h, the instruction results in Register B also containing 39h.

[^ toc ^](#table-of-contents)

---

### LD r, (IY+d)

Operation
r ← (IY+D)

Description
The operand (lY+d) loads the contents of Index Register IY summed with two’s-comple-
ment displacement integer, d, to register r, in which r identifies registers A, B, C, D, E, H,
or L, assembled as follows in the object code:

Condition Bits Affected

None.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 4, 3, 5, 3)|4.75

Example
If Index Register IY contains the number 25AFh, the instruction LD B, (IY+19h) allows
the calculation of the sum 25AFh + 19h, which points to memory location 25C8h. If this
address contains byte 39h, the instruction results in Register B also containing 39h.

[^ toc ^](#table-of-contents)

---

### LD (HL), r

Operation
(HL) ← r

Description
The contents of register r are loaded to the memory location specified by the contents of
the HL register pair. The r symbol identifies registers A, B, C, D, E, H, or L, assembled as
follows in the object code:

Condition Bits Affected

None.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

Example
If the contents of register pair HL specify memory location 2146h and Register B contains
byte 29h, then upon the execution of an LD (HL), B instruction, memory address 2146h
also contains 29h.

[^ toc ^](#table-of-contents)

---

### LD (IX+d), r

Operation
(IX+d) ← r

Description
The contents of register r are loaded to the memory address specified by the contents of
Index Register IX summed with d, a two’s-complement displacement integer. The r sym-
bol identifies registers A, B, C, D, E, H, or L, assembled as follows in the object code:

Condition Bits Affected

None.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 4, 3, 5, 3)|4.75

Example
If the C register contains byte 1Ch, and Index Register IX contains 3100h, then the
instruction LID (IX + 6h), C performs the sum 3100h + 6h and loads 1Ch to memory
location 3106h.

[^ toc ^](#table-of-contents)

---

### LD (IY+d), r

Operation
(lY+d) ← r

Description
The contents of resister r are loaded to the memory address specified by the sum of the
contents of Index Register IY and d, a two’s-complement displacement integer. The r sym-
bol is specified according to the following table.

Condition Bits Affected

None.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19|(4, 4, 3, 5, 3)|4.75

Example
If the C register contains byte 48h, and Index Register IY contains 2A11h, then the
instruction LD (IY + 4h), C performs the sum 2A11h + 4h, and loads 48h to memory
location 2A15.

[^ toc ^](#table-of-contents)

---

### LD (HL), n

Operation
(HL) ← n

Description
The n integer is loaded to the memory address specified by the contents of the HL register
pair.

Condition Bits Affected

None.

Example
If the HL register pair contains 4444h, the instruction LD (HL), 28h results in the mem-
ory location 4444h containing byte 28h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|10 (4, 3, 3)|2.50

[^ toc ^](#table-of-contents)

---

### LD (IX+d), n

Operation
(IX+d) ← n

Description
The n operand is loaded to the memory address specified by the sum of Index Register IX
and the two’s complement displacement operand d.

Condition Bits Affected

None.

Example

If Index Register IX contains the number 219Ah, then upon execution of an LD (IX+5h),
5Ah instruction, byte 5Ah is contained in memory address 219Fh.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 4, 3,5,3)|4.75

[^ toc ^](#table-of-contents)

---

### LD (IY+d), n

Operation
(lY+d) ← n

Description
The n integer is loaded to the memory location specified by the contents of Index Register
summed with the two’s-complement displacement integer, d.

Condition Bits Affected

None.

Example
If Index Register IY contains the number A940h, the instruction LD (IY+10h), 97h
results in byte 97h in memory location A950h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 4, 3, 5, 3)|2.50

[^ toc ^](#table-of-contents)

---

### LD A, (BC)

Operation
A ← (BC)

Description

The contents of the memory location specified by the contents of the BC register pair are
loaded to the Accumulator.

Condition Bits Affected

None.

Example

If the BC register pair contains the number 4747h, and memory address 4747h contains
byte 12h, then the instruction LD A, (BC) results in byte 12h in Register A.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

[^ toc ^](#table-of-contents)

---

### LD A, (DE)

Operation
A ← (DE)

Description
The contents of the memory location specified by the register pair DE are loaded to the
Accumulator.

Condition Bits Affected

None.

Example
If the DE register pair contains the number 30A2h and memory address 30A2h contains
byte 22h, then the instruction LD A, (DE) results in byte 22h in Register A.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

[^ toc ^](#table-of-contents)

---

### LD A, (nn)

Operation
A ← (nn)

Description
The contents of the memory location specified by the operands nn are loaded to the Accu-
mulator. The first n operand after the op code is the low-order byte of a 2-byte memory
address.

Condition Bits Affected

None.

Example
If nn contains 8832h and memory address 8832h contains byte 04h, then upon the execu-
tion of an LD A, (nn) instruction, the 04h byte is in the Accumulator.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|13 (4, 3, 3, 3)|3.25

[^ toc ^](#table-of-contents)

---

### LD (BC), A

Operation
(BC) ← A

Description
The contents of the Accumulator are loaded to the memory location specified by the con-
tents of the register pair BC.

Condition Bits Affected

None.

Example
If the Accumulator contains 7Ah and the BC register pair contains 1212h the instruction
LD (BC), A results in 7Ah in memory location 1212h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

[^ toc ^](#table-of-contents)

---

### LD (DE), A

Operation
(DE) ← A

Description
The contents of the Accumulator are loaded to the memory location specified by the con-
tents of the DE register pair.

Condition Bits Affected

None.

Example
If register pair DE contains 1128h and the Accumulator contains byte A0h, then the exe-
cution of a LD (DE), A instruction results in A0h being stored in memory location 1128h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75

[^ toc ^](#table-of-contents)

---

### LD (nn), A

Operation
(nn) ← A

Description
The contents of the Accumulator are loaded to the memory address specified by the oper-
and nn. The first n operand after the op code is the low-order byte of nn.

Condition Bits Affected

None.

Example
If the Accumulator contains byte D7h, then executing an LD (3141h), AD7h instruction
results in memory location 3141h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|13 (4, 3, 3, 3)|3.25
[^ toc ^](#table-of-contents)

---

### LD A, I

Operation
A ← 1

Description
The contents of the Interrupt Vector Register I are loaded to the Accumulator.

Condition Bits Affected
S is set if the I Register is negative; otherwise, it is reset.
Z is set if the I Register is 0; otherwise, it is reset.
H is reset.
P/V contains contents of IFF2.
N is reset.
C is not affected.
If an interrupt occurs during execution of this instruction, the Parity flag contains a 0.

M Cycles | T States | 4 MHz E.T. 
:---:|:---:|:---:
2|9 (4, 5)|2.25

[^ toc ^](#table-of-contents)

---

### LD A, R

Operation
A ← R

Description
The contents of Memory Refresh Register R are loaded to the Accumulator.

Condition Bits Affected
S is set if, R-Register is negative; otherwise, it is reset.
Z is set if the R Register is 0; otherwise, it is reset.
H is reset.
P/V contains contents of IFF2.
N is reset.
C is not affected.
If an interrupt occurs during execution of this instruction, the parity flag contains a 0.

M Cycles | T States | 4 MHz E.T. 
:---:|:---:|:---:
2|9 (4, 5)|2.25

[^ toc ^](#table-of-contents)

---

### LD I,A

Operation
I ← A

Description
The contents of the Accumulator are loaded to the Interrupt Control Vector Register, I.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T. 
:---:|:---:|:---:
2|9 (4, 5)|2.25

[^ toc ^](#table-of-contents)

---

### LD R, A

Operation
R ← A

Description
The contents of the Accumulator are loaded to the Memory Refresh register R.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T. 
:---:|:---:|:---:
2|9 (4, 5)|2.25

[^ toc ^](#table-of-contents)

---

### LD dd, nn

Operation
dd ← nn

Description
The 2-byte integer nn is loaded to the dd register pair, in which dd defines the BC, DE,
HL, or SP register pairs, assembled as follows in the object code:

The first n operand after the op code is the low-order byte.

Condition Bits Affected

None.

Example
Upon the execution of an LD HL, 5000h instruction, the HL register pair contains 5000h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 3, 3)|2.50

00 d0d 0 01

[^ toc ^](#table-of-contents)

---

### LD IX, nn

Operation
IX ← nn

Description

The n integer is loaded to Index Register IX. The first n operand after the op code is the
low-order byte.

Condition Bits Affected

None.

Example
Upon the execution of an LD IX, 45A2h instruction, the index register contains integer
45A2h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|14 (4, 4, 3, 3)|3.50

[^ toc ^](#table-of-contents)

---

### LD IY, nn

Operation
IY ← nn

Description
The nn integer is loaded to Index Register IY. The first n operand after the op code is the
low-order byte.

Condition Bits Affected

None.

Example
Upon the execution of a LD IY, 7733h instruction, Index Register IY contains the integer
7733h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|14 (4, 4, 3, 3)|3.50

[^ toc ^](#table-of-contents)

---

### LD HL, (nn)

Operation
H ← (nn + 1), L ← (nn)

Description
The contents of memory address (nn) are loaded to the low-order portion of register pair
HL (Register L), and the contents of the next highest memory address (nn + 1) are loaded
to the high-order portion of HL (Register H). The first n operand after the op code is the
low-order byte of nn.

Condition Bits Affected

None.

Example
If address 4545h contains 37h and address 4546h contains A1h, then upon the execution
of an LD HL, (4545h) instruction, the HL register pair contains A137h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|16 (4, 3, 3, 3, 3)|4.00

(^00110010) 2A
n

[^ toc ^](#table-of-contents)

---

### LD dd, (nn)

Operation
ddh ← (nn + 1) ddl ← (nn)

Description

The contents of address (nn) are loaded to the low-order portion of register pair dd, and the
contents of the next highest memory address (nn + 1) are loaded to the high-order portion
of dd. Register pair dd defines BC, DE, HL, or SP register pairs, assembled as follows in
the object code:

The first n operand after the op code is the low-order byte of (nn).

Condition Bits Affected

None.

Pair dd
BC 00
DE 01
HL 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|20 (4, 4, 3, 3, 3, 3)|5.00

Example
If Address 2130h contains 65h and address 2131h contains 78h, then upon the execution
of an LD BC, (2130h) instruction, the BC register pair contains 7865h.

[^ toc ^](#table-of-contents)

---

### LD IX, (nn)

Operation
IXh ← (nn + 1), IXI ← (nn)

Description
The contents of the address (nn) are loaded to the low-order portion of Index Register IX,
and the contents of the next highest memory address (nn + 1) are loaded to the high-order
portion of IX. The first n operand after the op code is the low-order byte of nn.

Condition Bits Affected

None.

Example
If address 6666h contains 92h, and address 6667h contains DAh, then upon the execution
of an LD IX, (6666h) instruction, Index Register IX contains DA92h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|20 (4, 4, 3, 3, 3, 3)|5.00

[^ toc ^](#table-of-contents)

---

### LD IY, (nn)

Operation
IYh ← (nn + 1), IYI ← nn)

Description
The contents of address (nn) are loaded to the low-order portion of Index Register IY, and
the contents of the next highest memory address (nn + 1) are loaded to the high-order por-
tion of IY. The first n operand after the op code is the low-order byte of nn.

Condition Bits Affected

None.

Example
If address 6666h contains 92h, and address 6667h contains DAh, then upon the execution
of an LD IY, (6666h) instruction, Index Register IY contains DA92h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|20 (4, 4, 3, 3, 3, 3)|5.00

[^ toc ^](#table-of-contents)

---

### LD (nn), HL

Operation
(nn + 1) ← H, (nn) ← L

Description
The contents of the low-order portion of register pair HL (Register L) are loaded to mem-
ory address (nn), and the contents of the high-order portion of HL (Register H) are loaded
to the next highest memory address (nn + 1). The first n operand after the op code is the
low-order byte of nn.

Condition Bits Affected

None.

Example
If register pair HL contains 483Ah, then upon the execution of an LD (B2291 – 1), HL
instruction, address B229h contains 3Ah and address B22Ah contains 48h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|16 (4, 3, 3, 3, 3)|4.00

[^ toc ^](#table-of-contents)

---

### LD (nn), dd

Operation
(nn + 1) ← ddh, (nn) ← ddl

Description

The low-order byte of register pair dd is loaded to memory address (nn); the upper byte is
loaded to memory address (nn + 1). Register pair dd defines either BC, DE, HL, or SP,
assembled as follows in the object code:

The first n operand after the op code is the low-order byte of a two byte memory address.

Condition Bits Affected

None.

Pair dd
BC 00
DE 01
HL 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|20 (4, 4, 3, 3, 3, 3)|5.00

Example
If register pair BC contains the number 4644h, the instruction LD (1000h), BC results in
44h in memory location 1000h, and 46h in memory location 1001h.

[^ toc ^](#table-of-contents)

---

### LD (nn), IX

Operation
(nn + 1) ← IXh, (nn) ← IXI

Description

The low-order byte in Index Register IX is loaded to memory address (nn); the upper order
byte is loaded to the next highest address (nn + 1). The first n operand after the op code is
the low-order byte of nn.

Condition Bits Affected

None.

Example

If Index Register IX contains 5A30h, then upon the execution of an LD (4392h), IX
instruction, memory location 4392h contains number 30h and location 4393h contains
5Ah.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|20 (4, 4, 3, 3, 3, 3)|5.00

[^ toc ^](#table-of-contents)

---

### LD (nn), IY

Operation
(nn + 1) ← IYh, (nn) ← IYI

Description
The low-order byte in Index Register IY is loaded to memory address (nn); the upper order
byte is loaded to memory location (nn + 1). The first n operand after the op code is the low-
order byte of nn.

Condition Bits Affected

None.

Example
If Index Register IY contains 4174h, then upon the execution of an LD (8838h), IY
instruction, memory location 8838h contains 74h and memory location 8839h contains
41h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|20 (4, 4, 3, 3, 3, 3)|5.00

[^ toc ^](#table-of-contents)

---

### LD SP, HL

Operation
SP ← HL

Description

The contents of the register pair HL are loaded to the Stack Pointer (SP).

Condition Bits Affected

None.

Example

If the register pair HL contains 442Eh, then upon the execution of an LD SP, HL instruc-
tion, the Stack Pointer also contains 442Eh.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|6|1.5

[^ toc ^](#table-of-contents)

---

### LD SP, IX

Operation
SP ← IX

Description
The 2-byte contents of Index Register IX are loaded to the Stack Pointer (SP).

Condition Bits Affected

None.

Example
If Index Register IX contains 98DAh, then upon the execution of an LD SP, IX instruction,
the Stack Pointer also contains 98DAh.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 6)|2.50

[^ toc ^](#table-of-contents)

---

### LD SP, IY

Operation
SP ← IY

Description
The 2-byte contents of Index Register IY are loaded to the Stack Pointer SP.

Condition Bits Affected

None.

Example
If Index Register IY contains the integer A227h, then upon the execution of an LD SP, IY
instruction, the Stack Pointer also contains A227h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 6)|2.50

[^ toc ^](#table-of-contents)

---

### PUSH qq

Operation
(SP – 2) ← qqL, (SP – 1) ← qqH

Description

The contents of the register pair qq are pushed to the external memory last-in, first-out
(LIFO) stack. The Stack Pointer (SP) Register pair holds the 16-bit address of the current
top of the Stack. This instruction first decrements SP and loads the high-order byte of reg-
ister pair qq to the memory address specified by the SP. The SP is decremented again and
loads the low-order byte of qq to the memory location corresponding to this new address
in the SP. The operand qq identifies register pair BC, DE, HL, or AF, assembled as follows
in the object code:

Condition Bits Affected

None.

Pair qq
BC 00
DE 01
HL 10
AF 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (5, 3, 3)|2.75

11 q0q 1 01

Example
If the AF Register pair contains 2233h and the Stack Pointer contains 1007h, then upon
the execution of a PUSH AF instruction, memory address 1006h contains 22h, memory
address 1005h contains 33h, and the Stack Pointer contains 1005h.

[^ toc ^](#table-of-contents)

---

### PUSH IX

Operation
(SP – 2) ← IXL, (SP – 1) ← IXH

Description
The contents of Index Register IX are pushed to the external memory last-in, first-out
(LIFO) stack. The Stack Pointer (SP) Register pair holds the 16-bit address of the current
top of the Stack. This instruction first decrements SP and loads the high-order byte of IX
to the memory address specified by SP; then decrements SP again and loads the low-order
byte to the memory location corresponding to this new address in SP.

Condition Bits Affected

None.

Example
If Index Register IX contains 2233h and the Stack Pointer contains 1007h, then upon the
execution of a PUSH IX instruction, memory address 1006h contains 22h, memory
address 1005h contains 33h, and the Stack Pointer contains 1005h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 5, 3, 3)|3.75

[^ toc ^](#table-of-contents)

---

### PUSH IY

Operation
(SP – 2) ← IYL, (SP – 1) ← IYH

Description
The contents of Index Register IY are pushed to the external memory last-in, first-out
(LIFO) stack. The Stack Pointer (SP) Register pair holds the 16-bit address of the current
top of the Stack. This instruction first decrements the SP and loads the high-order byte of
IY to the memory address specified by SP; then decrements SP again and loads the low-
order byte to the memory location corresponding to this new address in SP.

Condition Bits Affected

None.

Example
If Index Register IY contains 2233h and the Stack Pointer contains 1007h, then upon the
execution of a PUSH IY instruction, memory address 1006h contains 22h, memory
address 1005h contains 33h, and the Stack Pointer contains 1005h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 5, 3, 3)|3.75

[^ toc ^](#table-of-contents)

---

### POP qq

Operation
qqH ← (SP+1), qqL ← (SP)

Description

The top two bytes of the external memory last-in, first-out (LIFO) stack are popped to reg-
ister pair qq. The Stack Pointer (SP) Register pair holds the 16-bit address of the current
top of the Stack. This instruction first loads to the low-order portion of qq, the byte at the
memory location corresponding to the contents of SP; then SP is incremented and the con-
tents of the corresponding adjacent memory location are loaded to the high-order portion
of qq and the SP is now incremented again. The operand qq identifies register pair BC,
DE, HL, or AF, assembled as follows in the object code:

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|10 (4, 3, 3)|2.50

Example
If the Stack Pointer contains 1000h, memory location 1000h contains 55h, and location
1001h contains 33h, the instruction POP HL results in register pair HL containing 3355h,
and the Stack Pointer containing 1002h.

[^ toc ^](#table-of-contents)

---

### POP IX

Operation
IXH ← (SP+1), IXL ← (SP)

Description
The top two bytes of the external memory last-in, first-out (LIFO) stack are popped to
Index Register IX. The Stack Pointer (SP) Register pair holds the 16-bit address of the
current top of the Stack. This instruction first loads to the low-order portion of IX the byte
at the memory location corresponding to the contents of SP; then SP is incremented and
the contents of the corresponding adjacent memory location are loaded to the high-order
portion of IX. The SP is incremented again.

Condition Bits Affected

None.

Example
If the Stack Pointer contains 1000h, memory location 1000h contains 55h, and location
1001h contains 33h, the instruction POP IX results in Index Register IX containing
3355h, and the Stack Pointer containing 1002h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|14 (4, 4, 3, 3)|3.50

[^ toc ^](#table-of-contents)

---

### POP IY

Operation
IYH ← (SP – X1), IYL ← (SP)

Description
The top two bytes of the external memory last-in, first-out (LIFO) stack are popped to
Index Register IY. The Stack Pointer (SP) Register pair holds the 16-bit address of the cur-
rent top of the Stack. This instruction first loads to the low-order portion of IY the byte at
the memory location corresponding to the contents of SP; then SP is incremented and the
contents of the corresponding adjacent memory location are loaded to the high-order por-
tion of IY. The SP is incremented again.

Condition Bits Affected

None.

Example
If the Stack Pointer Contains 1000h, memory location 1000h contains 55h, and location
1001h contains 33h, the instruction POP IY results in Index Register IY containing
3355h, and the Stack Pointer containing 1002h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|14 (4, 4, 3, 3)|3.50

[^ toc ^](#table-of-contents)

---

### EX DE, HL

Operation
DE ↔ HL

Description

The 2-byte contents of register pairs DE and HL are exchanged.

Condition Bits Affected

None.

Example

If register pair DE contains 2822h and register pair HL contains 499Ah, then upon the
execution of an EX DE, HL instruction, register pair DE contains 499Ah and register pair
HL contains 2822h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

[^ toc ^](#table-of-contents)

---

### EX AF, AF′

Operation
AF ↔ AF'

Description

The 2-byte contents of the register pairs AF and AF' are exchanged. Register pair AF con-
sists of registers A′ and F′.

Condition Bits Affected

None.

Example

If register pair AF contains 9900h and register pair AF′ contains 5944h, the contents of
AF are 5944h and the contents of AF′ are 9900h upon execution of the EX AF, AF′
instruction.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

[^ toc ^](#table-of-contents)

---

### EXX

Operation
(BC) ↔ (BC′), (DE) ↔ (DE'), (HL) ↔ (HL′)

Description

Each 2-byte value in register pairs BC, DE, and HL is exchanged with the 2-byte value in
BC', DE', and HL', respectively.

Condition Bits Affected

None.

Example

If register pairs BC, DE, and HL contain 445Ah, 3DA2h, and 8859h, respectively, and
register pairs BC’, DE’, and HL’ contain 0988h, 9300h, and 00E7h, respectively, then
upon the execution of an EXX instruction, BC contains 0988h; DE contains 9300h; HL
contains 00E7h; BC’ contains 445Ah; DE’ contains 3DA2h; and HL’ contains 8859h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### EX (SP), HL

Operation
H ↔ (SP+1), L ↔ (SP)

Description
The low-order byte contained in register pair HL is exchanged with the contents of the
memory address specified by the contents of register pair SP (Stack Pointer), and the high-
order byte of HL is exchanged with the next highest memory address (SP+1).

Condition Bits Affected

None.

Example
If the HL register pair contains 7012h, the SP register pair contains 8856h, the memory
location 8856h contains byte 11h, and memory location 8857h contains byte 22h, then
the instruction EX (SP), HL results in the HL register pair containing number 2211h,
memory location 8856h containing byte 12h, memory location 8857h containing byte
70h and Stack Pointer containing 8856h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 3, 4, 3, 5)|4.75

[^ toc ^](#table-of-contents)

---

### EX (SP), IX

Operation
IXH ↔ (SP+1), IXL ↔ (SP)

Description
The low-order byte in Index Register IX is exchanged with the contents of the memory
address specified by the contents of register pair SP (Stack Pointer), and the high-order
byte of IX is exchanged with the next highest memory address (SP+1).

Condition Bits Affected

None.

Example
If Index Register IX contains 3988h, the SP register pair Contains 0100h, memory loca-
tion 0100h contains byte 90h, and memory location 0101h contains byte 48h, then the
instruction EX (SP), IX results in the IX register pair containing number 4890h, memory
location 0100h containing 88h, memory location 0101h containing 39h, and the Stack
Pointer containing 0100h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 4, 3, 5)|5.75

[^ toc ^](#table-of-contents)

---

### EX (SP), IY

Operation
IYH ↔ (SP+1), IYL ↔ (SP)

Description
The low-order byte in Index Register IY is exchanged with the contents of the memory
address specified by the contents of register pair SP (Stack Pointer), and the high-order
byte of IY is exchanged with the next highest memory address (SP+1).

Condition Bits Affected

None.

Example
If Index Register IY contains 3988h, the SP register pair contains 0100h, memory loca-
tion 0100h contains byte 90h, and memory location 0101h contains byte 48h, then the
instruction EX (SP), IY results in the IY register pair containing number 4890h, memory
location 0100h containing 88h, memory location 0101h containing 39h, and the Stack
Pointer containing 0100h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 4, 3, 5)|5.75

[^ toc ^](#table-of-contents)

---

### LDI

Operation
(DE) ← (HL), DE ← DE + 1, HL ← HL + 1, BC ← BC – 1

Description
A byte of data is transferred from the memory location addressed, by the contents of the
HL register pair to the memory location addressed by the contents of the DE register pair.
Then both these register pairs are incremented and the Byte Counter (BC) Register pair is
decremented.

Condition Bits Affected
S is not affected.
Z is not affected.
H is reset.
P/V is set if BC – 1 ≠ 0; otherwise, it is reset.
N is reset.
C is not affected.

Example
If the HL register pair contains 1111h, memory location 1111h contains byte 88h, the DE
register pair contains 2222h, the memory location 2222h contains byte 66h, and the BC

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

register pair contains 7h, then the instruction LDI results in the following contents in reg-
ister pairs and memory addresses:

HL contains 1112h
(1111h) contains 88h
DE contains 2223h
(2222h) contains 88h
BC contains 6H

[^ toc ^](#table-of-contents)

---

### LDIR

Operation
repeat {(DE) ← (HL), DE ← DE + 1, HL ← HL + 1, BC ← BC – 1} while (BC ≠ 0)

Description
This 2-byte instruction transfers a byte of data from the memory location addressed by the
contents of the HL register pair to the memory location addressed by the DE register pair.
Both these register pairs are incremented and the Byte Counter (BC) Register pair is dec-
remented. If decrementing allows the BC to go to 0, the instruction is terminated. If BC is
not 0, the program counter is decremented by two and the instruction is repeated. Inter-
rupts are recognized and two refresh cycles are executed after each data transfer. When the
BC is set to 0 prior to instruction execution, the instruction loops through 64 KB.
For BC ≠ 0:

For BC = 0:

Condition Bits Affected
S is not affected.
Z is not affected.
H is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 4, 3, 5, 5)|5.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

P/V is set if BC – 1 ≠ 0; otherwise, it is reset.
N is reset.
C is not affected.

Example
The HL register pair contains 11111h, the DE register pair contains 2222h, the BC regis-
ter pair contains 0003h, and memory locations contain the following data.

Upon the execution of an LDIR instruction, the contents of register pairs and memory
locations now contain:

(1111h) contains 88h (2222h) contains 66h
(1112h) contains 36h (2223h) contains 59h
(1113h) contains A5h (2224h) contains C5h

HL contains 1114h
DE contains 2225h
BC contains 0000h
(1111h) contains 88h (2222h) contains 88h
(1112h) contains 36h (2223h) contains 36h
(1113h) contains A5h (2224h) contains A5h

[^ toc ^](#table-of-contents)

---

### LDD

Operation
(DE) ← (HL), DE ← DE – 1, HL ← HL– 1, BC ← BC– 1

Description
This 2-byte instruction transfers a byte of data from the memory location addressed by the
contents of the HL register pair to the memory location addressed by the contents of the
DE register pair. Then both of these register pairs including the Byte Counter (BC) Regis-
ter pair are decremented.

Condition Bits Affected
S is not affected.
Z is not affected.
H is reset.
P/V is set if BC – 1 ≠ 0; otherwise, it is reset.
N is reset.
C is not affected.

Example
If the HL register pair contains 1111h, memory location 1111h contains byte 88h, the DE
register pair contains 2222h, memory location 2222h contains byte 66h, and the BC reg-

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

ister pair contains 7h, then instruction LDD results in the following contents in register
pairs and memory addresses:

HL contains 1110h
(1111h) contains 88h
DE contains 2221h
(2222h) contains 88h
BC contains 6h

[^ toc ^](#table-of-contents)

---

### LDDR

Operation
(DE) ← (HL), DE ← DE – 1, HL ← HL – 1, BC ← BC – 1

Description
This 2-byte instruction transfers a byte of data from the memory location addressed by the
contents of the HL register pair to the memory location addressed by the contents of the
DE register pair. Then both of these registers, and the BC (Byte Counter), are decre-
mented. If decrementing causes BC to go to 0, the instruction is terminated. If BC is not 0,
the program counter is decremented by two and the instruction is repeated. Interrupts are
recognized and two refresh cycles execute after each data transfer.
When the BC is set to 0, prior to instruction execution, the instruction loops through
64 KB.
For BC ≠ 0:

For BC = 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 4, 3, 5, 5)|5.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

Condition Bits Affected
S is not affected.
Z is not affected.
H is reset.
P/V is reset.
N is reset.

Example
The HL register pair contains 1114h, the DE register pair contains 2225h, the BC register
pair contains 0003h, and memory locations contain the following data.

Upon the execution of an LDDR instruction, the contents of the register pairs and memory
locations now contain:

(1114h) contains A5h (2225h) contains C5h
(1113h) contains 36h (2224h) contains 59h
(1112h) contains 88h (2223h) contains 66h

HL contains 1111h
DE contains 2222h
DC contains 0000h
(1114h) contains A5h (2225h) contains A5h
(1113h) contains 36h (2224h) contains 36h
(1112h) contains 88h (2223h) contains 88h

[^ toc ^](#table-of-contents)

---

### CPI

Operation
A – (HL), HL ← HL +1, BC ← BC – 1

Description
The contents of the memory location addressed by the HL register is compared with the
contents of the Accumulator. With a true compare, a condition bit is set. Then HL is incre-
mented and the Byte Counter (register pair BC) is decremented.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if A is (HL); otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is set if BC – 1 is not 0; otherwise, it is reset.
N is set.
C is not affected.

Example
If the HL register pair contains 1111h, memory location 1111h contains 3Bh, the Accu-
mulator contains 3Bh, and the Byte Counter contains 0001h. Upon the execution of a CPI
instruction, the Byte Counter contains 0000h, the HL register pair contains 1112h, the Z
flag in the F register is set, and the P/V flag in the F Register is reset. There is no effect on
the contents of the Accumulator or to address 1111h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

[^ toc ^](#table-of-contents)

---

### CPIR

Operation
A – (HL), HL ← HL+1, BC ← BC – 1

Description
The contents of the memory location addressed by the HL register pair is compared with
the contents of the Accumulator. During a compare operation, a condition bit is set. HL is
incremented and the Byte Counter (register pair BC) is decremented. If decrementing
causes BC to go to 0 or if A = (HL), the instruction is terminated. If BC is not 0 and A ≠
(HL), the program counter is decremented by two and the instruction is repeated. Inter-
rupts are recognized and two refresh cycles are executed after each data transfer.
If BC is set to 0 before instruction execution, the instruction loops through 64 KB if no
match is found.
For BC ≠ 0 and A ≠ (HL):

For BC = 0 and A = (HL):

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 4, 3, 5, 5)|5.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if A equals (HL); otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is set if BC – 1 does not equal 0; otherwise, it is reset.
N is set.
C is not affected.

Example
If the HL register pair contains 1111h, the Accumulator contains F3h, the Byte Counter
contains 0007h, and memory locations contain the following data.

Upon the execution of a CPIR instruction, register pair HL contains 1114h, the Byte
Counter contains 0004h, the P/V flag in the F Register is set, and the Z flag in the F Reg-
ister is set.

(1111h) contains 52h
(1112h) contains 00h
(1113h) contains F3h

[^ toc ^](#table-of-contents)

---

### CPD

Operation
A – (HL), HL ← HL – 1, BC ← BC – 1

Description
The contents of the memory location addressed by the HL register pair is compared with
the contents of the Accumulator. During a compare operation, a condition bit is set. The
HL and Byte Counter (register pair BC) are decremented.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if A equals (HL); otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is set if BC – 1≠ 0; otherwise, it is reset.
N is set.
C is not affected.

Example
If the HL register pair contains 1111h, memory location 1111h contains 3Bh, the Accu-
mulator contains 3Bh, and the Byte Counter contains 0001h. Upon the execution of a
CPD instruction, the Byte Counter contains 0000h, the HL register pair contains 1110h,
the flag in the F Register is set, and the P/V flag in the F Register is reset. There is no
effect on the contents of the Accumulator or address 1111h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

[^ toc ^](#table-of-contents)

---

### CPDR

Operation
A – (HL), HL ← HL – 1, BC ← BC – 1

Description
The contents of the memory location addressed by the HL register pair is compared with
the contents of the Accumulator. During a compare operation, a condition bit is set. The
HL and Byte Counter (BC) Register pairs are decremented. If decrementing allows the BC
to go to 0 or if A = (HL), the instruction is terminated. If BC is not 0 and A = (HL), the
program counter is decremented by two and the instruction is repeated. Interrupts are rec-
ognized and two refresh cycles execute after each data transfer. When the BC is set to 0,
prior to instruction execution, the instruction loops through 64 KB if no match is found.
For BC ≠ 0 and A ≠ (HL):

For BC = 0 and A = (HL):

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if A = (HL); otherwise, it is reset.
H is set if borrow form bit 4; otherwise, it is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 4, 3, 5, 5)|5.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 4, 3, 5)|4.00

P/V is set if BC – 1 ≠ 0; otherwise, it is reset.
N is set.
C is not affected.

Example
The HL register pair contains 1118h, the Accumulator contains F3h, the Byte Counter
contains 0007h, and memory locations contain the following data.

Upon the execution of a CPDR instruction, register pair HL contains 1115h, the Byte
Counter contains 0004h, the P/V flag in the F Register is set, and the Z flag in the F Reg-
ister is set.

(1118h) contains 52h
(1117h) contains 00h
(1116h) contains F3h

[^ toc ^](#table-of-contents)

---

### ADD A, r

Operation
A ← A + r

Description
The contents of register r are added to the contents of the Accumulator, and the result is
stored in the Accumulator. The r symbol identifies the registers A, B, C, D, E, H, or L,
assembled as follows in the object code:

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.

A111
B000
C001
D010
E011
H100
L101

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is set if carry from bit 7; otherwise, it is reset.

Example
If the Accumulator contains 44h and Register C contains 11h, then upon the execution of
an ADD A, C instruction, the Accumulator contains 55h.

[^ toc ^](#table-of-contents)

---

### ADD A, n

Operation
A ← A + n

Description
The n integer is added to the contents of the Accumulator, and the results are stored in the
Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is set if carry from bit 7; otherwise, it is reset.

Example
If the Accumulator contains 23h, then upon the execution of an ADD A, 33h instruction,
the Accumulator contains 56h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75
[^ toc ^](#table-of-contents)

---

### ADD A, (HL)

Operation
A ← A + (HL)

Description
The byte at the memory address specified by the contents of the HL register pair is added
to the contents of the Accumulator, and the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is set if carry from bit 7; otherwise, it is reset.

Example
If the Accumulator contains A0h, register pair HL contains 2323h, and memory location
2323h contains byte 08h, then upon the execution of an ADD A, (HL) instruction, the
Accumulator contains A8h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75
[^ toc ^](#table-of-contents)

---

### ADD A, (IX + d)

Operation
A ← A + (IX+d)

Description
The contents of the Index (register pair IX) Register is added to a two’s complement dis-
placement d to point to an address in memory. The contents of this address is then added to
the contents of the Accumulator and the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is set if carry from bit 7; otherwise, it is reset.

Example
If the Accumulator contains 11h, Index Register IX contains 1000h, and memory location
1005h contains 22h, then upon the execution of an ADD A, (IX + 5h) instruction, the
Accumulator contains 33h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19 (4, 4, 3, 5, 3)|4.75

d

[^ toc ^](#table-of-contents)

---

### ADD A, (IY + d)

Operation
A ← A + (IY+d)

Description
The contents of the Index (register pair IY) Register is added to a two’s complement dis-
placement d to point to an address in memory. The contents of this address is then added to
the contents of the Accumulator, and the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3: otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is set if carry from bit 7; otherwise, it is reset.

Example
If the Accumulator contains 11h, Index Register IY contains 1000h, and memory location
1005h contains 22h, then upon the execution of an ADD A, (IY + 5h) instruction, the
Accumulator contains 33h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|19(4, 4, 3, 5, 3)|4.75

d

[^ toc ^](#table-of-contents)

---

### ADC A, s

Operation
A ← A + s + CY

This s operand is any of r, n, (HL), (IX+d), or (lY+d) as defined for the analogous ADD
instruction. These possible op code/operand combinations are assembled as follows in the
object code:

(^10010) r*
n
d
d
ADC A,r
ADC A,n
ADC A, (HL)
ADC A, (IX+d)
ADC A, (IY+d)

r identifies registers B, C, D, E, H, L, or A, assembled as follows in the object code field:

Description
The s operand, along with the Carry Flag (C in the F Register) is added to the contents of
the Accumulator, and the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is set if carry from bit 7: otherwise, it is reset.

Example
If the Accumulator contents are 16h, the Carry Flag is set, the HL register pair contains
6666h, and address 6666h contains 10h, then upon the execution of an ADC A, (HL)
instruction, the Accumulator contains 27h.

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
ADC A, r|1|4|1.00
ADC A, n|2|7 (4, 3)|1.75
ADC A, (HL)|2|7 (4, 3)|1.75
ADC A, (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
ADC A, (lY+d)|5|19 (4, 4, 3, 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### SUB s

Operation
A ← A – s

This s operand is any of r, n, (HL), (IX+d), or (lY+d) as defined for the analogous ADD
instruction. These possible op code/operand combinations are assembled as follows in the
object code:

(^10001) r*
n
d
d
SUB r
SUB n
SUB (HL)
SUB (IX+d)
SUB (IY+d)

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
The s operand is subtracted from the contents of the Accumulator, and the result is stored
in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is set.
C is set if borrow; otherwise, it is reset.

Example
If the Accumulator contents are 29h, and the D Register contains 11h, then upon the exe-
cution of a SUB D instruction, the Accumulator contains 18h.

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
SUB r|1|4|1.00
SUB n|2|7 (4, 3)|1.75
SUB (HL)|2|7 (4, 3)|1.75
SUB (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
SUB (lY+d)|5|19 (4, 4, 3, 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### SBC A, s

Operation
A ← A – s – CY

The s operand is any of r, n, (HL), (IX+d), or (lY+d) as defined for the analogous ADD
instructions. These possible op code/operand combinations are assembled as follows in
the object code.

(^10011) r*
n
d
d
SBC A, r
SBC A, n
SBC A, (HL)
SBC A, (IX+d)
SBC A, (IY+d)

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
The s operand, along with the Carry flag (C in the F Register) is subtracted from the con-
tents of the Accumulator, and the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is reset if overflow; otherwise, it is reset.
N is set.
C is set if borrow; otherwise, it is reset.

Example
If the Accumulator contains 16h, the carry flag is set, the HL register pair contains 3433h,
and address 3433h contains 05h, then upon the execution of an SBC A, (HL) instruction,
the Accumulator contains 10h.

B000
C001
D010
E011
H100
L101
A111

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
SBC A, r|1|4|1.00
SBC A, n|2|7(4, 3)|1.75
SBC A, (HL)|2|7 (4, 3)|1.75
SBC A, (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
SBC A, (lY+d)|5|19 (4, 4, 3, 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### AND s

Operation
A ← A ˄ s

The s operand is any of r, n, (HL), (IX+d), or (lY+d), as defined for the analogous ADD
instructions. These possible op code/operand combinations are assembled as follows in
the object code:

(^10100) r*
AND r*
AND n
AND (HL)
AND (IX+d)
AND (IY+d)
nn
d
d

r identifies registers B, C, D, E, H, L, or A specified in the assembled object code field, as
follows:

Description
A logical AND operation is performed between the byte specified by the s operand and the
byte contained in the Accumulator; the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set.
P/V is reset if overflow; otherwise, it is reset.
N is reset.
C is reset.

Example
If Register B contains 7Bh ( 0111 1011 ) and the Accumulator contains C3h ( 1100 0011 ),
then upon the execution of an AND B instruction, the Accumulator contains 43h ( 0100
0011 ).

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
AND r|1|4|1.00
AND n|2|7 (4, 3)|1.75
AND (HL)|2|7 (4, 3)|1.75
AND (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
AND (IX+d)|5|19 (4, 4, 3. 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### OR s

Operation
A ← A ˅ s

The s operand is any of r, n, (HL), (IX+d), or (lY+d), as defined for the analogous ADD
instructions. These possible op code/operand combinations are assembled as follows in
the object code:

(^10101) r*
OR r*
OR n
OR (HL)
OR (IX+d)
OR (IY+d)
n
d
d

r identifies registers B, C–, D, E, H, L, or A specified in the assembled object code field,
as follows:

Description
A logical OR operation is performed between the byte specified by the s operand and the
byte contained in the Accumulator; the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if overflow; otherwise, it is reset.
N is reset.
C is reset.

Example
If the H Register contains 48h ( 0100 0100 ), and the Accumulator contains 12h ( 0001
0010 ), then upon the execution of an OR H instruction, the Accumulator contains 5Ah
( 0101 1010 ).

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
OR r|1|4|1.00
OR n|2|7 (4, 3)|1.75
OR (HL)|2|7 (4, 3)|1.75
OR (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
OR (lY+d)|5|19 (4, 4, 3, 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### XOR s

Operation
A ← A ⊕ s

The s operand is any of r, n, (HL), (IX+d), or (lY+d), as defined for the analogous ADD
instructions. These possible Op Code/operand combinations are assembled as follows in
the object code:

(^10110) r*
XOR r*
XOR n
XOR (HL)
XOR (IX+d)
XOR (IY+d)
n
d
d

r identifies registers B, C, D, E, H, L, or A specified in the assembled object code field, as
follows:

Description
The logical exclusive-OR operation is performed between the byte specified by the s oper-
and and the byte contained in the Accumulator; the result is stored in the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.
C is reset.

Example
If the Accumulator contains 96h ( 1001 0110 ), then upon the execution of an XOR 5Dh
(5Dh = 0101 1101 ) instruction, the Accumulator contains CBh ( 1100 1011 ).

A 1l1

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
XOR r|1|4|1.00
XOR n|2|7 (4, 3)|1.75
XOR (HL)|2|7 (4, 3)|1.75
XOR (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
XOR (lY+d)|5|19 (4, 4, 3, 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### CP s

Operation
A – s

The s operand is any of r, n, (HL), (IX+d), or (lY+d), as defined for the analogous ADD
instructions. These possible op code/operand combinations are assembled as follows in
the object code:

(^10111) r*
CP r*
CP n
CP (HL)
CP (IX+d)
CP (IY+d)
n
d
d

r identifies registers B, C, D, E, H, L, or A specified in the assembled object code field, as
follows:

Description
The contents of the s operand are compared with the contents of the Accumulator. If there
is a true compare, the Z flag is set. The execution of this instruction does not affect the
contents of the Accumulator.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.
N is set.
C is set if borrow; otherwise, it is reset.

Example
If the Accumulator contains 63h, the HL register pair contains 6000h, and memory loca-
tion 6000h contains 60h, the instruction CP (HL) results in the PN flag in the F Register
resetting.

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
CP r|1|4|1.00
CP n|2|7(4, 3)|1.75
CP (HL)|2|7 (4, 3)|1.75
CP (IX+d)|5|19 (4, 4, 3, 5, 3)|4.75
CP (lY+d)|5|19 (4, 4, 3, 5, 3)|4.75

[^ toc ^](#table-of-contents)

---

### INC r

Operation
r ← r + 1

Description
Register r is incremented and register r identifies any of the registers A, B, C, D, E, H, or
L, assembled as follows in the object code.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if r was 7Fh before operation; otherwise, it is reset.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

00 r 1 00

N is reset.
C is not affected.

Example
If the D Register contains 28h, then upon the execution of an INC D instruction, the D
Register contains 29h.

[^ toc ^](#table-of-contents)

---

### INC (HL)

Operation
(HL) ← (HL) + 1

Description
The byte contained in the address specified by the contents of the HL register pair is incre-
mented.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if (HL) was 7Fh before operation; otherwise, it is reset.
N is reset.
C is not affected.

Example
If the HL register pair contains 3434h and address 3434h contains 82h, then upon the
execution of an INC (HL) instruction, memory location 3434h contains 83h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (4, 4, 3)|2.75
[^ toc ^](#table-of-contents)

---

### INC (IX+d)

Operation
(IX+d) ← (IX+d) + 1

Description
The contents of Index Register IX (register pair IX) are added to the two’s-complement
displacement integer, d, to point to an address in memory. The contents of this address are
then incremented.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if (IX+d) was 7Fh before operation; otherwise, it is reset.
N is reset.
C is not affected.

Example
If Index Register pair IX contains 2020h and memory location 2030h contains byte 34h,
then upon the execution of an INC (IX+10h) instruction, memory location 2030h con-
tains 35h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 5, 4, 3)|5.75

d

[^ toc ^](#table-of-contents)

---

### INC (IY+d)

Operation
(lY+d) ← (lY+d) + 1

Description
The contents of Index Register IY (register pair IY) are added to the two’s-complement
displacement integer, d, to point to an address in memory. The contents of this address are
then incremented.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 3; otherwise, it is reset.
P/V is set if (lY+d) was 7Fh before operation; otherwise, it is reset.
N is reset.
C is not affected.

Example
If Index Register IY are 2020h and memory location 2030h contains byte 34h, then upon
the execution of an INC (IY+10h) instruction, memory location 2030h contains 35h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 5, 4, 3)|5.75

d

[^ toc ^](#table-of-contents)

---

### DEC m

Operation
m ← m – 1

The m operand is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous INC
instructions. These possible op code/operand combinations are assembled as follows in
the object code:

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:
00 r 1 01

DEC (HL)

DEC (IX+d)

DEC (IY+d)

d

d

DEC r*

Description
The byte specified by the m operand is decremented.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if borrow from bit 4, otherwise, it is reset.
P/V is set if m was 80h before operation; otherwise, it is reset.
N is set.
C is not affected.

Example
If the D Register contains byte 2Ah, then upon the execution of a DEC D instruction, the D
Register contains 29h.

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
DEC r|1|4|1.00
DEC (HL)|3|11 (4, 4, 3)|2.75
DEC (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
DEC (lY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

[^ toc ^](#table-of-contents)

---

### DAA

Operation
@

Description

This instruction conditionally adjusts the Accumulator for BCD addition and subtraction
operations. For addition (ADD, ADC, INC) or subtraction (SUB, SBC, DEC, NEG), the
following table indicates the operation being performed:

Operation

C Before
DAA

Hex Value
In Upper
Digit
(Bits 7–4)

H Before
DAA

Hex Value
In Lower
Digit
(Bits 3–0)

Number
Added To
Byte

C After
DAA
09–000–900 0
0 0–8 0 A–F 06 0
00–910–306 0
ADD 0 A–F 0 0–9 60 1
ADC 0 9–F 0 A–F 66 1
INC 0 A–F 1 0–3 66 1
10–200–960 1
1 0–2 0 A–F 66 1
10–310–366 1
SUB 0 0–9 0 0–9 00 0
SBC 0 0–8 1 6–F FA 0
DEC 1 7–F 0 0–9 A0 1
NEG 1 6–7 1 6–F 9A 1
Condition Bits Affected
S is set if most-significant bit of the Accumulator is 1 after an operation; otherwise, it is
reset.
Z is set if the Accumulator is 0 after an operation; otherwise, it is reset.
H: see the DAA instruction table on the previous page.
P/V is set if the Accumulator is at even parity after an operation; otherwise, it is reset.
N is not affected.
C: see the DAA instruction table on the previous page.

Example
An addition operation is performed between 15 (BCD) and 27 (BCD); simple decimal
arithmetic provides the following result:
15
+ 27
42
The binary representations are added in the Accumulator according to standard binary
arithmetic, as follows:
0001 0101
+ 0010 0111
0011 1100 = 3C
The sum is ambiguous. The DAA instruction adjusts this result so that the correct BCD
representation is obtained, as follows:
0011 1100
+ 0000 0110
0100 0010 = 42

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

[^ toc ^](#table-of-contents)

---

### CPL

Operation
A ← A

Description

The contents of the Accumulator (Register A) are inverted (one’s complement).

Condition Bits Affected

S is not affected.
Z is not affected.
H is set.
P/V is not affected.
N is set.
C is not affected.

Example

If the Accumulator contains 1011 0100 , then upon the execution of a CPL instruction, the
Accumulator contains 0100 1011.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### NEG

Operation
A ← 0 – A

Description
The contents of the Accumulator are negated (two’s complement). This method is the
same as subtracting the contents of the Accumulator from zero.

The 80h address remains unchanged.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if borrow from bit 4; otherwise, it is reset.
P/V is set if Accumulator was 80h before operation; otherwise, it is reset.
N is set.
C is set if Accumulator was not 00h before operation; otherwise, it is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

Note:

Example
The Accumulator contains the following data:

Upon the execution of a NEG instruction, the Accumulator contains:

[^ toc ^](#table-of-contents)

---

### CCF

Operation
CY ← CY

Description

The Carry flag in the F Register is inverted.

Condition Bits Affected

S is not affected.
Z is not affected.
H, previous carry is copied.
P/V is not affected.
N is reset.
C is set if CY was 0 before operation; otherwise, it is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### SCF

Operation
CY ← 1

Description

The Carry flag in the F Register is set.

Condition Bits Affected

S is not affected.
Z is not affected.
H is reset.
P/V is not affected.
N is reset.
C is set.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### NOP

Operation
—

Description
The CPU performs no operation during this machine cycle.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### HALT

Operation
—

Description
The HALT instruction suspends CPU operation until a subsequent interrupt or reset is
received. While in the HALT state, the processor executes NOPs to maintain memory
refresh logic.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### DI

Operation
IFF ← 0

Description
DI disables the maskable interrupt by resetting the interrupt enable flip-flops (IFF1 and
IFF2).

This instruction disables the maskable interrupt during its execution.

Condition Bits Affected

None.

Example
When the CPU executes the instruction DI the maskable interrupt is disabled until it is
subsequently re-enabled by an EI instruction. The CPU does not respond to an Interrupt
Request (INT) signal.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
Note:

[^ toc ^](#table-of-contents)

---

### EI

Operation
IFF ← 1

Description
The enable interrupt instruction sets both interrupt enable flip flops (IFFI and IFF2) to a
logic 1, allowing recognition of any maskable interrupt.

During the execution of this instruction and the following instruction, maskable interrupts
are disabled.

Condition Bits Affected

None.

Example
When the CPU executes an EI RETI instruction, the maskable interrupt is enabled then
upon the execution of an the RETI instruction.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
Note:

[^ toc ^](#table-of-contents)

---

### IM 0

Operation
Set Interrupt Mode 0

Op Code

[^ toc ^](#table-of-contents)

---

### IM

Description
The IM 0 instruction sets Interrupt Mode 0. In this mode, the interrupting device can insert
any instruction on the data bus for execution by the CPU. The first byte of a multi-byte
instruction is read during the interrupt acknowledge cycle. Subsequent bytes are read in by
a normal memory read sequence.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

[^ toc ^](#table-of-contents)

---

### IM 1

Operation
Set Interrupt Mode 1

Description
The IM 1 instruction sets Interrupt Mode 1. In this mode, the processor responds to an
interrupt by executing a restart at address 0038h.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

[^ toc ^](#table-of-contents)

---

### IM 2

Operation
Set Interrupt Mode 2

Description
The IM 2 instruction sets the vectored Interrupt Mode 2. This mode allows an indirect call
to any memory location by an 8-bit vector supplied from the peripheral device. This vector
then becomes the least-significant eight bits of the indirect pointer, while the I Register in
the CPU provides the most-significant eight bits. This address points to an address in a
vector table that is the starting address for the interrupt service routine.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

[^ toc ^](#table-of-contents)

---

### ADD HL, ss

Operation
HL ← HL + ss

Description
The contents of register pair ss (any of register pairs BC, DE, HL, or SP) are added to the
contents of register pair HL and the result is stored in HL. In the assembled object code,
operand ss is specified as follows:

Condition Bits Affected
S is not affected.
Z is not affected.
H is set if carry from bit 11; otherwise, it is reset.
P/V is not affected.
N is reset.

Register
Pair ss
BC 00
DE 01
HL 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (4, 4, 3)|2.75

00 s1s 0 01

C is set if carry from bit 15; otherwise, it is reset.

Example
If register pair HL contains the integer 4242h and register pair DE contains 1111h, then
upon the execution of an ADD HL, DE instruction, the HL register pair contains 5353h.

[^ toc ^](#table-of-contents)

---

### ADC HL, ss

Operation
HL ← HL + ss + CY

Description
The contents of register pair ss (any of register pairs BC, DE, HL, or SP) are added with
the Carry flag (C flag in the F Register) to the contents of register pair HL, and the result is
stored in HL. In the assembled object code, operand ss is specified as follows:

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if carry from bit 11; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.

Register
Pair ss
BC 00
DE 01
HL 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 4, 4, 3)|3.75
01 s1s 0 10

N is reset.
C is set if carry from bit 15; otherwise, it is reset.

Example
If register pair BC contains 2222h, register pair HL contains 5437h, and the Carry Flag is
set, then upon the execution of an ADC HL, BC instruction, HL contains 765Ah.

[^ toc ^](#table-of-contents)

---

### SBC HL, ss

Operation
HL ← HL – ss – CY

Description
The contents of the register pair ss (any of register pairs BC, DE, HL, or SP) and the Carry
Flag (C flag in the F Register) are subtracted from the contents of register pair HL, and the
result is stored in HL. In the assembled object code, operand ss is specified as follows:

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is set if borrow from bit 12; otherwise, it is reset.
P/V is set if overflow; otherwise, it is reset.

Register
Pair ss
BC 00
DE 01
HL 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 4, 4, 3)|3.75
01 s0s 0 10

N is set.
C is set if borrow; otherwise, it is reset.

Example
If the HL register pair contains 9999h, register pair DE contains 1111h, and the Carry
flag is set, then upon the execution of an SBC HL, DE instruction, HL contains 8887h.

[^ toc ^](#table-of-contents)

---

### ADD IX, pp

Operation
IX ← IX + pp

Description
The contents of register pair pp (any of register pairs BC, DE, IX, or SP) are added to the
contents of Index Register IX, and the results are stored in IX. In the assembled object
code, operand pp is specified as follows:

Condition Bits Affected
S is not affected.
Z is not affected.
H is set if carry from bit 11; otherwise, it is reset.
P/V is not affected.

Register
Pair ss
BC 00
DE 01
IX 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 4, 4, 3)|3.75
00 p1p 0 01

N is reset.
C is set if carry from bit 15; otherwise, it is reset.

Example
If Index Register IX contains 333h and register pair BC contains 5555h, then upon the
execution of an ADD IX, BC instruction, IX contains 8888h.

[^ toc ^](#table-of-contents)

---

### ADD IY, rr

Operation
IY ← IY + rr

Description
The contents of register pair rr (any of register pairs BC, DE, IY, or SP) are added to the
contents of Index Register IY, and the result is stored in IY. In the assembled object code,
the rr operand is specified as follows:

Condition Bits Affected
S is not affected.
Z is not affected.
H is set if carry from bit 11; otherwise, it is reset.
P/V is not affected.

Register
Pair ss
BC 00
DE 01
IY 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 4, 4, 3)|3.75
00 r1r 0 01

N is reset.
C is set if carry from bit 15; otherwise, it is reset.

Example
If Index Register IY contains 333h and register pair BC contains 555h, then upon the exe-
cution of an ADD IY, BC instruction, IY contains 8888h.

[^ toc ^](#table-of-contents)

---

### INC ss

Operation
ss ← ss + 1

Description
The contents of register pair ss (any of register pairs BC, DE, HL, or SP) are incremented.
In the assembled object code, operand ss is specified as follows:

Condition Bits Affected

None.

Example
If the register pair contains 1000h, then upon the execution of an INC HL instruction, HL
contains 1001h.

Register
Pair ss
BC 00
DE 01
HL 10
SP 11

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|6|1.50

00 s0s 0 11

[^ toc ^](#table-of-contents)

---

### INC IX

Operation
IX ← IX + 1

Description
The contents of Index Register IX are incremented.

Condition Bits Affected

None.

Example
If Index Register IX contains the integer 3300h, then upon the execution of an INC IX
instruction, Index Register IX contains 3301h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 6)|2.50

[^ toc ^](#table-of-contents)

---

### INC IY

Operation
IY ← IY + 1

Description
The contents of Index Register IY are incremented.

Condition Bits Affected

None.

Example
If the index register contains 2977h, then upon the execution of an INC IY instruction,
Index Register IY contains 2978h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 6)|2.50

[^ toc ^](#table-of-contents)

---

### DEC ss

Operation
ss ← ss – 1

Description
The contents of register pair ss (any of the register pairs BC, DE, HL, or SP) are decre-
mented. In the assembled object code, operand ss is specified as follows:

Condition Bits Affected

None.

Example
If register pair HL contains 1001h, then upon the execution of an DEC HL instruction, HL
contains 1000h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|6|1.50

[^ toc ^](#table-of-contents)

---

### DEC IX

Operation
IX ← IX – 1

Description
The contents of Index Register IX are decremented.

Condition Bits Affected

None.

Example
If Index Register IX contains 2006h, then upon the execution of a DEC IX instruction,
Index Register IX contains 2005h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 6)|2.50

[^ toc ^](#table-of-contents)

---

### DEC IY

Operation
IY ← IY– 1

Description
The contents of Index Register IY are decremented.

Condition Bits Affected

None.

Example
If Index Register IY contains 7649h, then upon the execution of a DEC IY instruction,
Index Register IY contains 7648h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|10 (4, 6)|2.50

[^ toc ^](#table-of-contents)

---

### RLCA

Operation

Description
The contents of the Accumulator (Register A) are rotated left 1 bit position. The sign bit
(bit 7) is copied to the Carry flag and also to bit 0. Bit 0 is the least-significant bit.

Condition Bits Affected
S is not affected.
Z is not affected.
H is reset.
P/V is not affected.
N is reset.
C is data from bit 7 of Accumulator.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

CY^70
A
Example
The Accumulator contains the following data:

Upon the execution of an RLCA instruction, the Accumulator and Carry flag contains:
76534 2 10
C^76534210
1

[^ toc ^](#table-of-contents)

---

### RLA

Operation

Description

The contents of the Accumulator (Register A) are rotated left 1 bit position through the
Carry flag. The previous contents of the Carry flag are copied to bit 0. Bit 0 is the least-
significant bit.

Condition Bits Affected

Condition Bits Affected.
S is not affected.
Z is not affected.
H is reset.
P/V is not affected.
N is reset.
C is data from bit 7 of Accumulator.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
Example
The Accumulator and the Carry flag contains the following data:

Upon the execution of an RLA instruction, the Accumulator and the Carry flag contains:
C 76534 2 10
1
C^76534210
0

[^ toc ^](#table-of-contents)

---

### RRCA

Operation

Description

The contents of the Accumulator (Register A) are rotated right 1 bit position. Bit 0 is cop-
ied to the Carry flag and also to bit 7. Bit 0 is the least-significant bit.

Condition Bits Affected

S is not affected.
Z is not affected.
H is reset.
P/V is not affected.
N is reset.
C is data from bit 0 of Accumulator.

Example

The Accumulator contains the following data.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

7 0 CY
A
Upon the execution of an RRCA instruction, the Accumulator and the Carry flag now con-
tain:
7 64532 10
(^01)
7 64532 10
(^101)
C

[^ toc ^](#table-of-contents)

---

### RRA

Operation

Op Code

RRA

Description
The contents of the Accumulator (Register A) are rotated right 1 bit position through the
Carry flag. The previous contents of the Carry flag are copied to bit 7. Bit 0 is the least-
significant bit.

Condition Bits Affected
S is not affected.
Z is not affected.
H is reset.
P/V is not affected.
N is reset.
C is data from bit 0 of Accumulator.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00

(^70) CY
A

Example
The Accumulator and the Carry Flag contain the following data:

Upon the execution of an RRA instruction, the Accumulator and the Carry flag now con-
tain:

111 0 0 00 1

76534 2 10 C
0

011 1 0 00 0

76534 2 10 C
1

[^ toc ^](#table-of-contents)

---

### RLC r

Operation

Description
The contents of register r are rotated left 1 bit position. The contents of bit 7 are copied to
the Carry flag and also to bit 0. In the assembled object code, operand r is specified as fol-
lows:
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

CY^70
r

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.
C is data from bit 7 of source register.

Example
Register r contains the following data.

Upon the execution of an RLC r instruction, register r and the Carry flag now contain:

100 0 1 00 0

76534 2 10
C 76534 2 10
1

[^ toc ^](#table-of-contents)

---

### RLC (HL)

Operation

Op Code

RLC

Operand

(HL)

Description

The contents of the memory address specified by the contents of register pair HL are
rotated left 1 bit position. The contents of bit 7 are copied to the Carry flag and also to bit

0. Bit 0 is the least-significant bit.

Condition Bits Affected

S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.
C is data from bit 7 of source register.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 4, 4, 3)|3.75

CY^70
(HL)

Example
The HL register pair contains 2828h and the contents of memory location 2828h are:

Upon the execution of an RLC(HL) instruction, memory location 2828h and the Carry
flag now contain:
76534 2 10
C^76534210
1

[^ toc ^](#table-of-contents)

---

### RLC (IX+d)

Operation

Description
The contents of the memory address specified by the sum of the contents of Index Register
IX and the two’s-complement displacement integer, d, are rotated left 1 bit position. The
contents of bit 7 are copied to the Carry flag and also to bit 0. Bit 0 is the least-significant
bit.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 5, 4, 3)|5.75

CY^70
(IX+d)

d

C is data from bit 7 of source register.

Example
Index Register IX contains 1000h and memory location 1022h contains the following
data.

Upon the execution of an RLC (IX+2h) instruction, memory location 1002h and the
Carry flag now contain:
76534 2 10
C^76534210
1

[^ toc ^](#table-of-contents)

---

### RLC (IY+d)

Operation

Description
The contents of the memory address specified by the sum of the contents of Index Register
IY and the two’s-complement displacement integer, d, are rotated left 1 bit position. The
contents of bit 7 are copied to the Carry flag and also to bit 0. Bit 0 is the least-significant
bit.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 5, 4, 3)|5.75

CY^70
(IY+d)

d

C is data from bit 7 of source register.

Example
Index Register IY contains 1000h and memory location 1002h contain the following
data:

Upon the execution of an RLC (IY+2h) instruction, memory location 1002h and the
Carry flag now contain:
76534 2 10
C^76534210
1

[^ toc ^](#table-of-contents)

---

### RL m

Operation

The m operand is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous RLC
instructions. In the assembled object code, the possible op code/operand combinations are
specified as follows:

CY 70
m

RL r*

RL (HL)

RL (IX+d)

RL (IY+d)

d

d

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
The contents of the m operand are rotated left 1 bit position. The contents of bit 7 are cop-
ied to the Carry flag, and the previous contents of the Carry flag are copied to bit 0.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.
C is data from bit 7 of source register.

Example
The D Register and the Carry flag contain the following data.
Upon the execution of an RL D instruction, the D Register and the Carry flag now contain:
1

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
RL r|2|8 (4, 4)|2.00
RL (HL)|4|15(4, 4, 4, 3)|3.75
RL (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
RL (IY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

[^ toc ^](#table-of-contents)

---

### RRC m

Operation

The m operand is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous RLC
instructions. In the assembled object code, the possible op code/operand combinations are
specified as follows:

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
The contents of the m operand are rotated right 1 bit position. The contents of bit 0 are
copied to the Carry flag and also to bit 7. Bit 0 is the least-significant bit.


RRC r*

RRC (HL)

RRC (IX+d)

RRC (IY+d)

d

d

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.
C is data from bit 0 of source register.

Example
Register A contains the following data.

Upon the execution of an RRC A instruction, Register A and the Carry flag now contain:
76534 2 10

100 1 1 00 0

76534 2 10 C
1

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
RRC r|2|8 (4, 4)|2.00
RRC (HL)|4|15 (4, 4, 4, 3)|3.75
RRC (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
RRC (lY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
[^ toc ^](#table-of-contents)

---

### RR m

Operation

The m operand is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous RLC
instructions. In the assembled object code, the possible op code/operand combinations are
specified as follows:

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
The contents of operand m are rotated right 1 bit position through the Carry flag. The con-
tents of bit 0 are copied to the Carry flag and the previous contents of the Carry flag are
copied to bit 7. Bit 0 is the least-significant bit.


RR r*

RR (HL)

RR (IX+d)

RR (IY+d)

d

d

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity even; otherwise, it is reset.
N is reset.
C is data from bit 0 of source register.

Example
The HL register pair contains 4343h and memory location 4343h and the Carry flag con-
tain the following data.

Upon the execution of an RR (HL) instruction, location 4343h and the Carry flag now
contain:

101 1 1 10 1
(^76534210) C
0
011 0 1 11 0
(^76534210) C
1

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
RR r|2|8 (4, 4)|2.00
RR (HL)|4|15 (4, 4, 4, 3)|3.75
RR (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
RR (lY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

[^ toc ^](#table-of-contents)

---

### SLA m

Operation

The m operand is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous RLC
instructions. In the assembled object code, the possible op code/operand combinations are
specified as follows:

CY 70
m


SLA r*

SLA (HL)

SLA (IX+d)

SLA (IY+d)

d

d

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
An arithmetic shift left 1 bit position is performed on the contents of operand m. The con-
tents of bit 7 are copied to the Carry flag. Bit 0 is the least-significant bit.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity is even; otherwise, it is reset.
N is reset.
C is data from bit 7.

Example
Register L contains the following data.
Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
SLA r|2|8 (4, 4)|2.00
SLA (HL)|4|15 (4, 4, 4, 3)|3.75
SLA (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
SLA (IY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

Upon the execution of an SLA L instruction, Register L and the Carry flag now contain:
C^76534210
1

[^ toc ^](#table-of-contents)

---

### SRA m

Operation

The m operand is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous RLC
instructions. In the assembled object code, the possible op code/operand combinations are
specified as follows:

7 0 CY
m

SRA r*

SRA (HL)

SRA (IX+d)

SRA (IY+d)

d

d

r identifies registers B, C, D, E, H, L, or A assembled as follows in the object code field:

Description
An arithmetic shift right 1 bit position is performed on the contents of operand m. The
contents of bit 0 are copied to the Carry flag and the previous contents of bit 7 remain
unchanged. Bit 0 is the least-significant bit.

Condition Bits Affected
S is set if result is negative; otherwise, it is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity is even; otherwise, it is reset.
N is reset.
C is data from bit 0 of source register.

Example
Index Register IX contains 1000h and memory location 1003h contains the following
data.
Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
SRA r|2|8 (4, 4)|2.00
SRA (HL)|4|15 (4, 4, 4, 3)|3.75
SRA (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
SRA (lY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

Upon the execution of an SRA (IX+3h) instruction, memory location 1003h and the
Carry flag now contain:

101 1 1 10 0
(^76534210) C
0

[^ toc ^](#table-of-contents)

---

### SRL m

Operation

The operand m is any of r, (HL), (IX+d), or (lY+d), as defined for the analogous RLC
instructions. In the assembled object code, the possible op code/operand combinations are
specified as follows:

(^70) CY
m
0
SRL r*
SRL (HL)
SRL (IX+d)
SRL (IY+d)
d
d
r identifies registers B, C, D, E, H, L, or A.

Description
The contents of operand m are shifted right 1 bit position. The contents of bit 0 are copied
to the Carry flag, and bit 7 is reset. Bit 0 is the least-significant bit.

Condition Bits Affected
S is reset.
Z is set if result is 0; otherwise, it is reset.
H is reset.
P/V is set if parity is even; otherwise, it is reset.
N is reset.
C is data from bit 0 of source register.

Example
Register B contains the following data.

Upon the execution of an SRL B instruction, Register B and the Carry flag now contain:

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
SRL r|2|8 (4, 4)|2.00
SRL (HL)|4|15 (4, 4, 4, 3)|3.75
SRL (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
SRL (lY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

[^ toc ^](#table-of-contents)

---

### RLD

Operation

Description
The contents of the low-order four bits (bits 3, 2, 1, and 0) of the memory location (HL)
are copied to the high-order four bits (7, 6, 5, and 4) of that same memory location; the
previous contents of those high-order four bits are copied to the low-order four bits of the
Accumulator (Register A); and the previous contents of the low-order four bits of the
Accumulator are copied to the low-order four bits of memory location (HL). The contents
of the high-order bits of the Accumulator are unaffected.

(HL) refers to the memory location specified by the contents of the HL register pair.

Condition Bits Affected
S is set if the Accumulator is negative after an operation; otherwise, it is reset.
Z is set if the Accumulator is 0 after an operation; otherwise, it is reset.
H is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|18 (4, 4, 3, 4, 3)|4.50

A 7 4 3 0 7 4 3 0

Note:

P/V is set if the parity of the Accumulator is even after an operation; otherwise, it is reset.
N is reset.
C is not affected.

Example
The HL register pair contains 5000h and the Accumulator and memory location 5000h
contain the following data.

Upon the execution of an RLD instruction, the Accumulator and memory location 5000h
now contain:
76534 2 10

Accumulator
76534 2 10

(5000h)
76534 2 10

Accumulator
76534 2 10

(5000h)

[^ toc ^](#table-of-contents)

---

### RRD

Operation

Description
The contents of the low-order four bits (bits 3, 2, 1, and 0) of memory location (HL) are
copied to the low-order four bits of the Accumulator (Register A). The previous contents
of the low-order four bits of the Accumulator are copied to the high-order four bits (7, 6, 5,
and 4) of location (HL); and the previous contents of the high-order four bits of (HL) are
copied to the low-order four bits of (HL). The contents of the high-order bits of the Accu-
mulator are unaffected.

(HL) refers to the memory location specified by the contents of the HL register pair.

Condition Bits Affected
S is set if the Accumulator is negative after an operation; otherwise, it is reset.
Z is set if the Accumulator is 0 after an operation; otherwise, it is reset.
H is reset.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|18 (4, 4, 3, 4, 3)|4.50

Note:

P/V is set if the parity of the Accumulator is even after an operation; otherwise, it is reset.
N is reset.
C is not affected.

Example
The HL register pair contains 5000h and the Accumulator and memory location 5000h
contain the following data.

Upon the execution of an RRD instruction, the Accumulator and memory location 5000h
now contain:
76534 2 10

Accumulator
76534 2 10
(5000h)
76534 2 10

Accumulator
76534 2 10
(5000h)

[^ toc ^](#table-of-contents)

---

### BIT b, r

Operation
Z ← rb

Description
This instruction tests bit b in register r and sets the Z flag accordingly. In the assembled
object code, operands b and r are specified as follows:

Condition Bits Affected
S is unknown.
Z is set if specified bit is 0; otherwise, it is reset.
H is set.
P/V is unknown.
N is reset.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|4.50

Example
If bit 2 in Register B contains 0, then upon the execution of a BIT 2 , B instruction, the Z
flag in the F Register contains 1, and bit 2 in Register B remains at 0. Bit 0 in Register B is
the least-significant bit.

[^ toc ^](#table-of-contents)

---

### BIT b, (HL)

Operation
Z ← (HL)b

Description
This instruction tests bit b in the memory location specified by the contents of the HL reg-
ister pair and sets the Z flag accordingly. In the assembled object code, operand b is speci-
fied as follows:

Condition Bits Affected:  
S is unknown.
Z is set if specified bit is 0; otherwise, it is reset.
H is set.
P/V is unknown.
H is reset.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 4, 4) 4| 3.00


Example
If the HL register pair contains 4444h, and bit 4 in the memory location 444h contains 1,
then upon the execution of a BIT 4 , (HL) instruction, the Z flag in the F Register contains
0, and bit 4 in memory location 4444h remains at 1. Bit 0 in memory location 4444h is
the least-significant bit.

[^ toc ^](#table-of-contents)

---

### BIT b, (IX+d)

Operation
Z ← (IX+d)b

Description
This instruction tests bit b in the memory location specified by the contents of register pair
IX combined with the two’s complement displacement d and sets the Z flag accordingly.

Condition Bits Affected
S is unknown.
Z is set if specified bit is 0; otherwise, it is reset.
H is set.
P/V is unknown.
N is reset.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|20 (4, 4, 3, 5, 4)|5.00

Example
If Index Register IX contains 2000h and bit 6 in memory location 2004h contains 1, then
upon the execution of a BIT 6 , (IX+4h) instruction, the Z flag in the F Register contains a
0 and bit 6 in memory location 2004h still contains a 1. Bit 0 in memory location 2004h
is the least-significant bit.

[^ toc ^](#table-of-contents)

---

### BIT b, (IY+d)

Operation
Z ← (IY+d)b

Description
This instruction tests bit b in the memory location specified by the contents of register pair
IY combined with the two’s complement displacement d and sets the Z flag accordingly.
In the assembled object code, operand b is specified as follows.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|20 (4, 4, 3, 5, 4)|5.00

Condition Bits Affected
S is unknown.
Z is set if specified bit is 0; otherwise, it is reset.
H is set.
P/V is unknown.
H is reset.
C is not affected.

Example
If Index Register contains 2000h and bit 6 in memory location 2004h contains a 1, then
upon the execution of a BIT 6 , (IY+4h) instruction, the Z flag and the F Register still con-
tains a 0, and bit 6 in memory location 2004h still contains a 1. Bit 0 in memory location
2004h is the least-significant bit.

[^ toc ^](#table-of-contents)

---

### SET b, r

Operation
rb ← 1

Description
Bit b in register r (any of registers B, C, D, E, H, L, or A) is set. In the assembled object
code, operands b and r are specified as follows:

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

Example
Upon the execution of a SET 4 , A instruction, bit 4 in Register A is set. Bit 0 is the least-
significant bit.

[^ toc ^](#table-of-contents)

---

### SET b, (HL)

Operation
(HL)b ← 1

Description
Bit b in the memory location addressed by the contents of register pair HL is set. In the
assembled object code, operand b is specified as follows:

Condition Bits Affected

None.

Bit Tested b
0 000
1 001
2 010
3 011
4 100
5 101
6 110
7 111

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|15 (4, 4, 4, 3)|3.75

Example
If the HL register pair contains 3000h, then upon the execution of a SET 4 , (HL) instruc-
tion, bit 4 in memory location 3000h is 1. Bit 0 in memory location 3000h is the least-sig-
nificant bit.

[^ toc ^](#table-of-contents)

---

### SET b, (IX+d)

Operation
(IX+d)b ← 1

Description

Bit b in the memory location addressed by the sum of the contents of the IX register pair
and the two’s complement integer d is set.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 5, 4, 3)|5.75

Condition Bits Affected

None.

Example
If the index register contains 2000h, then upon the execution of a SET 0, (IX + 3h)
instruction, bit 0 in memory location 2003h is 1. Bit 0 in memory location 2003h is the
least-significant bit.

[^ toc ^](#table-of-contents)

---

### SET b, (IY+d)

Operation
(IY + d) b ← 1

Description
Bit b in the memory location addressed by the sum of the contents of the IY register pair
and the two’s complement displacement d is set. In the assembled object code, operand b
is specified as follows:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
6|23 (4, 4, 3, 5, 4, 3)|5.75

Condition Bits Affected

None.

Example
If Index Register IY contains 2000h, then upon the execution of a Set 0 , (IY+3h) instruc-
tion, bit 0 in memory location 2003h is 1. Bit 0 in memory location 2003h is the least-sig-
nificant bit.

[^ toc ^](#table-of-contents)

---

### RES b, m

Operation
sb ← 0

Operands
b, m
The b operand represents any bit (7 through 0) of the contents of the m operand, (any of r,
(HL), (IX+d), or (lY+d)) as defined for the analogous SET instructions. These possible op
code/operand combinations are assembled as follows in the object code:

RES b, rn
RES b, (HL)
RES b, (IX+d)
RES b, (IY+d)
10 b 101
10 b 101
10 b r
10 b 101

Description
Bit b in operand m is reset.

Condition Bits Affected

None.

Example
Upon the execution of a RES 6 , D instruction, bit 6 in register 0 is reset. Bit 0 in the D
Register is the least-significant bit.

Bit b Register r
0 000 B 000
1 001 C 001
2 010 D 010
3 011 E 011
4 100 H 100
5 101 L 101
6 110 A 111
7 111

Instruction | M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:|:---:
RES r|4|8 (4, 4)|2.00
RES (HL)|4|15 (4, 4, 4, 3)|3.75
RES (IX+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75
RES (lY+d)|6|23 (4, 4, 3, 5, 4, 3)|5.75

[^ toc ^](#table-of-contents)

---

### JP nn

Operation
PC ← nn

The first operand in this assembled object code is the low-order byte of a two-byte address.

Description
Operand nn is loaded to register pair Program Counter (PC). The next instruction is
fetched from the location designated by the new contents of the PC.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|10 (4, 3, 3)|2.50

[^ toc ^](#table-of-contents)

---

### JP cc, nn

Operation
IF cc true, PC ← nn

The first n operand in this assembled object code is the low-order byte of a 2-byte memory
address.

Description
If condition cc is true, the instruction loads operand nn to register pair Program Counter
(PC), and the program continues with the instruction beginning at address nn. If condition
cc is false, the Program Counter is incremented as usual, and the program continues with
the next sequential instruction. Condition cc is programmed as one of eight statuses that
correspond to condition bits in the Flag Register (Register F). These eight statuses are
defined in the following table, which specifies the corresponding cc bit fields in the
assembled object code.

cc Condition

Relevant
Flag
000 Non-Zero (NZ) Z
001 Zero (Z) Z
010 No Carry (NC) C
011 Carry (C) C
100 Parity Odd (PO) P/V
101 Parity Even (PE) P/V
110 Sign Positive (P) S
111 Sign Negative (M) S

Condition Bits Affected

None.

Example
If the Carry flag (i.e., the C flag in F Register) is set and address 1520h contains 03h, then
upon the execution of a JP C, 1520h instruction, the Program Counter contains 1520h
and, on the next machine cycle, the CPD fetches byte 03h from address 1520h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|10 (4, 3, 3)|2.50

[^ toc ^](#table-of-contents)

---

### JR e

Operation
PC ← PC + e

Description
This instruction provides for unconditional branching to other segments of a program. The
value of displacement e is added to the Program Counter (PC) and the next instruction is
fetched from the location designated by the new contents of the PC. This jump is mea-
sured from the address of the instruction op code and contains a range of –126 to +129
bytes. The assembler automatically adjusts for the twice incremented PC.

Condition Bits Affected

None.

Example
To jump forward five locations from address 480, the following assembly language state-
ment is used:
JR $+5
The resulting object code and final Program Counter value is shown in the following table:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 3, 5)|3.00

[^ toc ^](#table-of-contents)

---

### JR C, e

Operation
If C = 0, continue
If C = 1, PC ← PC+ e

Description
This instruction provides for conditional branching to other segments of a program
depending on the results of a test on the Carry Flag. If the flag = 1, the value of displace-
ment e is added to the Program Counter (PC) and the next instruction is fetched from the
location designated by the new contents of the PC. The jump is measured from the address
of the instruction op code and contains a range of –126 to +129 bytes. The assembler auto-
matically adjusts for the twice incremented PC.
If the flag = 0, the next instruction executed is taken from the location following this
instruction. If condition is met

If condition is not met:

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 3, 5)|3.00

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75
e–2

Example
The Carry flag is set and it is required to jump back four locations from 480. The assembly
language statement is JR C, $– 4

[^ toc ^](#table-of-contents)

---

### JR NC, e

Operation
If C = 1, continue
If C = 0, PC ← PC + e

Description
This instruction provides for conditional branching to other segments of a program
depending on the results of a test on the Carry Flag. If the flag is equal to 0, the value of
displacement e is added to the Program Counter (PC) and the next instruction is fetched
from the location designated by the new contents of the PC. The jump is measured from
the address of the instruction op code and contains a range of –126 to +129 bytes. The
assembler automatically adjusts for the twice incremented PC.
If the flag = 1, the next instruction executed is taken from the location following this
instruction.
If the condition is met:

If the condition is not met:

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 3, 5)|3.00

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
7|7 (4, 3)|1.75
e–2

Example
The Carry Flag is reset and it is required to repeat the jump instruction. The assembly lan-
guage statement is JR NC, $

[^ toc ^](#table-of-contents)

---

### JR Z, e

Operation
If Z = 0, continue
If Z = 1, PC ← PC + e

Description
This instruction provides for conditional branching to other segments of a program
depending on the results of a test on the Zero Flag. If the flag = 1, the value of displace-
ment e is added to the Program Counter (PC) and the next instruction is fetched from the
location designated by the new contents of the PC. The jump is measured from the address
of the instruction op code and contains a range of –126 to +129 bytes. The assembler auto-
matically adjusts for the twice-incremented PC.
If the Zero Flag = 0, the next instruction executed is taken from the location following this
instruction.
If this condition is met, the following data results:

If this condition is not met, the following data results:

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 3, 5)|3.00

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75
e–2

Example
The Zero Flag is set and it is required to jump forward five locations from address 300.
The following assembly language statement is used:
JR Z ,$ + 5

[^ toc ^](#table-of-contents)

---

### JR NZ, e

Operation
If Z = 1, continue
If Z = 0, PC ← pc + e

Description
This instruction provides for conditional branching to other segments of a program
depending on the results of a test on the Zero Flag. If the flag = 0, the value of displace-
ment e is added to the Program Counter (PC) and the next instruction is fetched from the
location designated by the new contents of the PC. The jump is measured from the address
of the instruction op code and contains a range of –126 to +129 bytes. The assembler auto-
matically adjusts for the twice incremented PC.
If the Zero Flag = 1, the next instruction executed is taken from the location following this
instruction.
If the condition is met:

If the condition is not met:

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 3, 5)|3.00

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|7 (4, 3)|1.75
e–2

Example
The Zero Flag is reset and it is required to jump back four locations from 480. The assem-
bly language statement is JR NZ, $– 4

[^ toc ^](#table-of-contents)

---

### JP (HL)

Operation
PC ← HL

Description
The Program Counter (PC) is loaded with the contents of the HL register pair. The next
instruction is fetched from the location designated by the new contents of the PC.

Condition Bits Affected

None.

Example
If the Program Counter contains 1000h and the HL register pair contains 4800h, then
upon the execution of a JP (HL) instruction, the Program Counter contains 4800h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|4|1.00
[^ toc ^](#table-of-contents)

---

### JP (IX)

Operation
pc ← IX

Description
The Program Counter (PC) is loaded with the contents of the IX register pair. The next
instruction is fetched from the location designated by the new contents of the PC.

Condition Bits Affected

None.

Example
If the Program Counter contains 1000h and the IX register pair contains 4800h, then
upon the execution of a JP (IX) instruction, the Program Counter contains 4800h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

[^ toc ^](#table-of-contents)

---

### JP (IY)

Operation
PC ← IY

Description
The Program Counter (PC) is loaded with the contents of the IY register pair. The next
instruction is fetched from the location designated by the new contents of the PC.

Condition Bits Affected

None.

Example
If the Program Counter contains 1000h and the IY register pair contains 4800h, then
upon the execution of a JP (IY) instruction, the Program Counter contains 4800h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (4, 4)|2.00

[^ toc ^](#table-of-contents)

---

### DJNZ, e

Operation
B ← B – 1
If B = 0, continue
If B ≠ 0, PC ← PC + e

Description
This instruction is similar to the conditional jump instructions except that a register value
is used to determine branching. Register B is decremented, and if a nonzero value remains,
the value of displacement e is added to the Program Counter (PC). The next instruction is
fetched from the location designated by the new contents of the PC. The jump is measured
from the address of the instruction op code and contains a range of –126 to +129 bytes.
The assembler automatically adjusts for the twice incremented PC.
If the result of decrementing leaves B with a zero value, the next instruction executed is
taken from the location following this instruction.
if B ≠ 0:

If B = 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|13 (5,3, 5)|3.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
2|8 (5, 3)|2.00
e–2

Condition Bits Affected

None.

Example
A typical software routine is used to demonstrate the use of the DJNZ instruction. This
routine moves a line from an input buffer (INBUF) to an output buffer (OUTBUF). It
moves the bytes until it finds a CR, or until it has moved 80 bytes, whichever occurs first.

LD 8, 80 ;Set up counter
LD HL, Inbuf ;Set up pointers
LD DE, Outbuf

LOOP: LID A, (HL) ;Get next byte from
;input buffer
LD (DE), A ;Store in output buffer
CP ODH ;Is it a CR?
JR Z, DONE ;Yes finished
INC HL ;Increment pointers
INC DE
DJNZ LOOP ;Loop back if 80
;bytes have not
;been moved
DONE:

[^ toc ^](#table-of-contents)

---

### CALL nn

Operation
(SP – 1) ← PCH, (SP – 2) ← PCL, PC ← nn

The first of the two n operands in the assembled object code above is the least-significant
byte of a 2-byte memory address.

Description
The current contents of the Program Counter (PC) are pushed onto the top of the external
memory stack. The operands nn are then loaded to the PC to point to the address in mem-
ory at which the first op code of a subroutine is to be fetched. At the end of the subroutine,
a RETurn instruction can be used to return to the original program flow by popping the top
of the stack back to the PC. The push is accomplished by first decrementing the current
contents of the Stack Pointer (register pair SP), loading the high-order byte of the PC con-
tents to the memory address now pointed to by the SP; then decrementing SP again, and
loading the low-order byte of the PC contents to the top of stack.
Because this process is a 3-byte instruction, the Program Counter was incremented by
three before the push is executed.

Condition Bits Affected

None.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|17 (4, 3, 4, 3, 3)|4.25
Example
The Program Counter contains 1A47h, the Stack Pointer contains 3002h, and memory
locations contain the following data.

If an instruction fetch sequence begins, the 3-byte instruction CD 3521h is fetched to the
CPU for execution. The mnemonic equivalent of this instruction is CALL 2135h. Upon
the execution of this instruction, memory address 3001h contains 1Ah, address 3000h
contains 4Ah, the Stack Pointer contains 3000h, and the Program Counter contains
2135h, thereby pointing to the address of the first op code of the next subroutine to be
executed.

Location Contents
1A47h CDh
IA48h 35h
1A49h 21h

[^ toc ^](#table-of-contents)

---

### CALL cc, nn

Operation
IF cc true: (sp – 1) ← PCH
(sp – 2) ← PCL, pc ← nn

The first of the two n operands in the assembled object code above is the least-significant
byte of the 2-byte memory address.

Description
If condition cc is true, this instruction pushes the current contents of the Program Counter
(PC) onto the top of the external memory stack, then loads the operands nn to PC to point
to the address in memory at which the first op code of a subroutine is to be fetched. At the
end of the subroutine, a RETurn instruction can be used to return to the original program
flow by popping the top of the stack back to PC. If condition cc is false, the Program
Counter is incremented as usual, and the program continues with the next sequential
instruction. The stack push is accomplished by first decrementing the current contents of
the Stack Pointer (SP), loading the high-order byte of the PC contents to the memory
address now pointed to by SP; then decrementing SP again, and loading the low-order
byte of the PC contents to the top of the stack.
Because this process is a 3-byte instruction, the Program Counter was incremented by
three before the push is executed.
Condition cc is programmed as one of eight statuses that corresponds to condition bits in
the Flag Register (Register F). These eight statuses are defined in the following table,
which also specifies the corresponding cc bit fields in the assembled object code.

11 cc 100

If cc is true:

If cc is false:

Condition Bits Affected

None.

Example
The C Flag in the F Register is reset, the Program Counter contains 1A47h, the Stack
Pointer contains 3002h, and memory locations contain the following data.

If an instruction fetch sequence begins, the 3-byte instruction D43521h is fetched to the
CPU for execution. The mnemonic equivalent of this instruction is CALL NC, 2135h.
Upon the execution of this instruction, memory address 3001h contains 1Ah, address
3000h contains 4Ah, the Stack Pointer contains 3000h, and the Program Counter contains
2135h, thereby pointing to the address of the first op code of the next subroutine to be
executed.

cc Condition

Relevant
Flag
000 Non-Zero (NZ) Z
001 Zero (Z) Z
010 Non Carry (NC) C
011 Carry (C) Z
100 Parity Odd (PO) P/V
101 Parity Even (PE) P/V
110 Sign Positive (P) S
111 Sign Negative (M) S

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|17 (4, 3, 4, 3, 3)|4.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|10 (4, 3, 3)|2.50

Location Contents
1A47h D4h
1448h 35h
1A49h 21h

[^ toc ^](#table-of-contents)

---

### RET

Operation
pCL ← (sp), pCH ← (sp+1)

Description
The byte at the memory location specified by the contents of the Stack Pointer (SP) Regis-
ter pair is moved to the low-order eight bits of the Program Counter (PC). The SP is now
incremented and the byte at the memory location specified by the new contents of this
instruction is fetched from the memory location specified by the PC. This instruction is
normally used to return to the main line program at the completion of a routine entered by
a CALL instruction.

Condition Bits Affected

None.

Example
The Program Counter contains 3535h, the Stack Pointer contains 2000h, memory loca-
tion 2000h contains B5h, and memory location 2001h contains 18h. Upon the execution
of a RET instruction, the Stack Pointer contains 2002h and the Program Counter contains
18B5h, thereby pointing to the address of the next program op code to be fetched.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|10 (4, 3, 3)|2.50
[^ toc ^](#table-of-contents)

---

### RET cc

Operation
If cc true: PCL ← (sp), pCH ← (sp+1)

Description
If condition cc is true, the byte at the memory location specified by the contents of the
Stack Pointer (SP) Register pair is moved to the low-order eight bits of the Program Coun-
ter (PC). The SP is incremented and the byte at the memory location specified by the new
contents of the SP are moved to the high-order eight bits of the PC. The SP is incremented
again. The next op code following this instruction is fetched from the memory location
specified by the PC. This instruction is normally used to return to the main line program at
the completion of a routine entered by a CALL instruction. If condition cc is false, the PC
is simply incremented as usual, and the program continues with the next sequential
instruction. Condition cc is programmed as one of eight status that correspond to condition
bits in the Flag Register (Register F). These eight status are defined in the following table,
which also specifies the corresponding cc bit fields in the assembled object code.

cc Condition

Relevant Flag
000 Non-Zero (NZ) Z
001 Zero (Z) Z
010 Non Carry (NC) C
011 Carry (C) C
100 Parity Odd (PO) P/V
101 Parity Even (PE) P/V
110 Sign Positive (P) S
111 Sign Negative (M) S

11 cc 000

If cc is true, then the following data is returned:

If cc is false, then the following data is returned:

Condition Bits Affected

None.

Example
The S flag in the F Register is set, the Program Counter contains 3535h, the Stack Pointer
contains 2000h, memory location 2000h contains B5h, and memory location 2001h con-
tains 18h. Upon the execution of a RET M instruction, the Stack Pointer contains 2002h
and the Program Counter contains 18B5h, thereby pointing to the address of the next pro-
gram op code to be fetched.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (5, 3, 3)|2.75

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
1|5|1.25

[^ toc ^](#table-of-contents)

---

### RETI

Operation
Return from Interrupt

Description
This instruction is used at the end of a maskable interrupt service routine to:

- Restore the contents of the Program Counter (analogous to the RET instruction)
- Signal an I/O device that the interrupt routine is completed. The RETI instruction also
    facilitates the nesting of interrupts, allowing higher priority devices to temporarily
    suspend service of lower priority service routines. However, this instruction does not
    enable interrupts that were disabled when the interrupt routine was entered. Before
    doing the RETI instruction, the enable interrupt instruction (EI) should be executed to
    allow recognition of interrupts after completion of the current service routine.

Condition Bits Affected

None.

Example
Assume that there are two interrupting devices, A and B, connected in a daisy-chain con-
figuration, with A having a higher priority than B.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|14 (4, 4, 3, 3)|3.50

B generates an interrupt and is acknowledged. The interrupt enable out, IEO, of B goes
Low, blocking any lower priority devices from interrupting while B is being serviced.
Then A generates an interrupt, suspending service of B. The IEO of A goes Low, indicat-
ing that a higher priority device is being serviced. The A routine is completed and a RETI
is issued resetting the IEO of A, allowing the B routine to continue. A second RETI is
issued on completion of the B routine and the IE0 of B is reset (High), allowing lower-pri-
ority devices interrupt access.

[^ toc ^](#table-of-contents)

---

### RETN

Operation
Return from nonmaskable interrupt

Description
This instruction is used at the end of a nonmaskable interrupts service routine to restore
the contents of the Program Counter (analogous to the RET instruction). The state of IFF2
is copied back to IFF1 so that maskable interrupts are enabled immediately following the
RETN if they were enabled before the nonmaskable interrupt.

Condition Bits Affected

None.

Example
If the Stack Pointer contains 1000h and the Program Counter contains 1A45h when a
Nonmaskable Interrupt (NMI) signal is received, the CPU ignores the next instruction and
instead restarts, returning to memory address 0066h. The current Program Counter con-
tains 1A45h, which is pushed onto the external stack address of 0FFFh and 0FFEh, high-
order byte first, and 0066h is loaded onto the Program Counter. That address begins an
interrupt service routine that ends with a RETN instruction.
Upon the execution of a RETN instruction, the contents of the former Program Counter
are popped off the external memory stack, low-order first, resulting in the Stack Pointer
again containing 1000h. The program flow continues where it left off with an op code
fetch to address 1A45h, order-byte first, and 0066h is loaded onto the Program Counter.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|14 (4, 4, 3, 3)|3.50

That address begins an interrupt service routine that ends with a RETN instruction. Upon
the execution of a RETN instruction, the contents of the former Program Counter are
popped off the external memory stack, low-order first, resulting in stack pointer contents
of 1000h. The program flow continues where it left off with an op code fetch to address
1A45h.

[^ toc ^](#table-of-contents)

---

### RST p

Operation
(SP – 1) ← PCH, (SP – 2) ← PCL, PCH ← 0, PCL ← P

Description
The current Program Counter (PC) contents are pushed onto the external memory stack,
and the Page 0 memory location assigned by operand p is loaded to the PC. Program exe-
cution then begins with the op code in the address now pointed to by PC. The push is per-
formed by first decrementing the contents of the Stack Pointer (SP), loading the high-order
byte of PC to the memory address now pointed to by SP, decrementing SP again, and load-
ing the low-order byte of PC to the address now pointed to by SP. The Restart instruction
allows for a jump to one of eight addresses indicated in the following table. The operand p
is assembled to the object code using the corresponding T state.
Because all addresses are stored in Page 0 of memory, the high-order byte of PC is loaded
with 00h. The number selected from the p column of the table is loaded to the low-order
byte of PC.

Example
If the Program Counter contains 15B3h, then upon the execution of an RST 18h (object
code 1101111 ) instruction, the PC contains 0018h as the address of the next fetched op
code.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (5, 3, 3)|2.75

[^ toc ^](#table-of-contents)

---

### IN A, (n)

Operation
A ← (n)

Description
The operand n is placed on the bottom half (A0 through A7) of the address bus to select
the I/O device at one of 256 possible ports. The contents of the Accumulator also appear
on the top half (A8 through A15) of the address bus at this time. Then one byte from the
selected port is placed on the data bus and written to the Accumulator (Register A) in the
CPU.

Condition Bits Affected

None.

Example
The Accumulator contains 23h, and byte 7Bh is available at the peripheral device mapped
to I/O port address 01h. Upon the execution of an IN A, (01h) instruction, the Accumula-
tor contains 7Bh.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (4, 3, 4)|2.75
[^ toc ^](#table-of-contents)

---

### IN r (C)

Operation
r ← (C)

Description
The contents of Register C are placed on the bottom half (A0 through A7) of the address
bus to select the I/O device at one of 256 possible ports. The contents of Register B are
placed on the top half (A8 through A15) of the address bus at this time. Then one byte
from the selected port is placed on the data bus and written to register r in the CPU. Regis-
ter r identifies any of the CPU registers shown in the following table, which also indicates
the corresponding 3-bit r field for each. The flags are affected, checking the input data.

Flag 110 Undefined op code; set the flag

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 4, 4)|3.00
01 r 000

Condition Bits Affected
S is set if input data is negative; otherwise, it is reset.
Z is set if input data is 0; otherwise, it is reset.
H is reset.
P/V is set if parity is even; otherwise, it is reset.
N is reset.
C is not affected.

Example
Register C contains 07h, Register B contains 10h, and byte 7Bh is available at the periph-
eral device mapped to I/O port address 07h. Upon the execution of an IN D, (C) com-
mand, the D Register contains 7Bh.

[^ toc ^](#table-of-contents)

---

### INI

Operation
(HL) ← (C), B ← B – 1, HL ← HL + 1

Description
The contents of Register C are placed on the bottom half (A0 through A7) of the address
bus to select the I/O device at one of 256 possible ports. Register B can be used as a byte
counter, and its contents are placed on the top half (A8 through A15) of the address bus at
this time. Then one byte from the selected port is placed on the data bus and written to the
CPU. The contents of the HL register pair are then placed on the address bus and the input
byte is written to the corresponding location of memory. Finally, the byte counter is decre-
mented and register pair HL is incremented.

Condition Bits Affected
S is unknown.
Z is set if B – 1 = 0; otherwise it is reset.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

Example
Register C contains 07h, Register B contains 10h, the HL register pair contains 1000h,
and byte 7Bh is available at the peripheral device mapped to I/O port address 07h. Upon
the execution of an INI instruction, memory location 1000h contains 7Bh, the HL register
pair contains 1001h, and Register B contains 0Fh.

[^ toc ^](#table-of-contents)

---

### INIR

Operation
(HL) ← (C), B ← B – 1, HL ← HL +1

Description
The contents of Register C are placed on the bottom half (A0 through A7) of the address
bus to select the I/O device at one of 256 possible ports. Register B is used as a byte coun-
ter, and its contents are placed on the top half (A8 through A15) of the address bus at this
time. Then one byte from the selected port is placed on the data bus and written to the
CPU. The contents of the HL register pair are placed on the address bus and the input byte
is written to the corresponding location of memory. Then register pair HL is incremented,
the byte counter is decremented. If decrementing causes B to go to 0, the instruction is ter-
minated. If B is not 0, the Program Counter is decremented by two and the instruction
repeated. Interrupts are recognized and two refresh cycles execute after each data transfer.

If B is set to 0 prior to instruction execution, 256 bytes of data are input.

If B ≠ 0:

If B = 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 5, 3, 4, 5)|5.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

Note:

Condition Bits Affected
S is unknown.
Z is set.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

Example
Register C contains 07h, Register B contains 03h, the HL register pair contains 1000h,
and the following sequence of bytes is available at the peripheral device mapped to I/O
port of address 07h.

Upon the execution of an INIR instruction, the HL register pair contains 1003h, Register
B contains a 0, and the memory locations contain the following data:

51h
A9h
03h

1000h 51h
1001h A9h
1002h 03h

[^ toc ^](#table-of-contents)

---

### IND

Operation
(HL) ← (C), B ← B – 1, HL ← HL – 1

Description
The contents of Register C are placed on the bottom half (A0 through A7) of the address
bus to select the I/O device at one of 256 possible ports. Register B can be used as a byte
counter, and its contents are placed on the top half (A8 through A15) of the address bus at
this time. Then one byte from the selected port is placed on the data bus and written to the
CPU. The contents of the HL register pair are placed on the address bus and the input byte
is written to the corresponding location of memory. Finally, the byte counter and register
pair HL are decremented.

Condition Bits Affected
S is unknown.
Z is set if B – 1 = 0; otherwise, it is reset.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

Example
Register C contains 07h, Register B contains 10h, the HL register pair contains 1000h,
and byte 7Bh is available at the peripheral device mapped to I/O port address 07h. Upon
the execution of an IND instruction, memory location 1000h contains 7Bh, the HL regis-
ter pair contains 0FFFh, and Register B contains 0Fh.

[^ toc ^](#table-of-contents)

---

### INDR

Operation
(HL) ← (C), B ← 131, HL ← HL1

Description
The contents of Register C are placed on the bottom half (A0 through A7) of the address
bus to select the I/O device at one of 256 possible ports. Register B is used as a byte coun-
ter, and its contents are placed on the top half (A8 through A15) of the address bus at this
time. Then one byte from the selected port is placed on the data bus and written to the
CPU. The contents of the HL register pair are placed on the address bus and the input byte
is written to the corresponding location of memory. Then HL and the byte counter are dec-
remented. If decrementing causes B to go to 0, the instruction is terminated. If B is not 0,
the Program Counter is decremented by two and the instruction repeated. Interrupts are
recognized and two refresh cycles are executed after each data transfer.
When B is set to 0 prior to instruction execution, 256 bytes of data are input.
If B ≠ 0:

If B = 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 5, 3, 4, 5)|5.25

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

Condition Bits Affected
S is unknown.
Z is set.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

Example
Register C contains 07h, Register B contains 03h, the HL register pair contains 1000h
and the following sequence of bytes is available at the peripheral device mapped to I/O
port address 07h:

Upon the execution of an INDR instruction, the HL register pair contains 0FFDh, Register
B contains a 0, and the memory locations contain the following data:

0FFEh 03h
0FFFh A9h
1000h 51h

[^ toc ^](#table-of-contents)

---

### OUT (n), A

Operation
(n) ← A

Description
The operand n is placed on the bottom half (A0 through A7) of the address bus to select
the I/O device at one of 256 possible ports. The contents of the Accumulator (Register A)
also appear on the top half (A8 through A15) of the address bus at this time. Then the byte
contained in the Accumulator is placed on the data bus and written to the selected periph-
eral device.

Condition Bits Affected

None.

Example
If the Accumulator contains 23h, then upon the execution of an OUT (01h) instruction,
byte 23h is written to the peripheral device mapped to I/O port address 01h.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|11 (4, 3, 4)|2.75
[^ toc ^](#table-of-contents)

---

### OUT (C), r

Operation
(C) ← r

Description
The contents of Register C are placed on the bottom half (A0 through A7) of the address
bus to select the I/O device at one of 256 possible ports. The contents of Register B are
placed on the top half (A8 through A15) of the address bus at this time. Then the byte con-
tained in register r is placed on the data bus and written to the selected peripheral device.
Register r identifies any of the CPU registers shown in the following table, which also
shows the corresponding three-bit r field for each that appears in the assembled object
code.
M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
3|12 (4, 4, 4)|3.00
01 r 010

Condition Bits Affected

None.

Example
If Register C contains 01h and the D Register contains 5Ah, then upon the execution of an
OUT (C), D instruction, byte 5Ah is written to the peripheral device mapped to I/O port
address 01h.

[^ toc ^](#table-of-contents)

---

### OUTI

Operation
(C) ← (HL), B ← B – 1, HL ← HL + 1

Description
The contents of the HL register pair are placed on the address bus to select a location in
memory. The byte contained in this memory location is temporarily stored in the CPU.
Then, after the byte counter (B) is decremented, the contents of Register C are placed on
the bottom half (A0 through A7) of the address bus to select the I/O device at one of 256
possible ports. Register B can be used as a byte counter, and its decremented value is
placed on the top half (A8 through A15) of the address bus. The byte to be output is placed
on the data bus and written to a selected peripheral device. Finally, the register pair HL is
incremented.

Condition Bits Affected
S is unknown.
Z is set if B – 1 = 0; otherwise, it is reset.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

Example
If Register C contains 07h, Register B contains 10h, the HL register pair contains 100014
and memory address 1000h contains 5914 , then upon the execution of an OUTI instruc-
tion, Register B contains 0Fh, the HL register pair contains 1001h, and byte 59h is writ-
ten to the peripheral device mapped to I/O port address 07h.

[^ toc ^](#table-of-contents)

---

### OTIR

Operation
(C) ← (HL), B ← B – 1, HL ← HL + 1

Description
The contents of the HL register pair are placed on the address bus to select a location in
memory. The byte contained in this memory location is temporarily stored in the CPU.
Then, after the byte counter (B) is decremented, the contents of Register C are placed on
the bottom half (A0 through A7) of the address bus to select the I/O device at one of 256
possible ports. Register B can be used as a byte counter, and its decremented value is
placed on the top half (A8 through A15) of the address bus at this time. Next, the byte to
be output is placed on the data bus and written to the selected peripheral device. Then reg-
ister pair HL is incremented. If the decremented B Register is not 0, the Program Counter
(PC) is decremented by two and the instruction is repeated. If B has gone to 0, the instruc-
tion is terminated. Interrupts are recognized and two refresh cycles are executed after each
data transfer.

When B is set to 0 prior to instruction execution, the instruction outputs 256 bytes of data.

If B ≠ 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 5, 3, 4, 5)|5.25

Note:

If B = 0:

Condition Bits Affected
S is unknown.
Z is set.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

Example
Register C contains 07h, Register B contains 03h, the HL register pair contains 1000h,
and memory locations contain the following data.

Upon the execution of an OTIR instruction, the HL register pair contains 1003h, Register
B contains a 0, and a group of bytes is written to the peripheral device mapped to I/O port
address 07h in the following sequence:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

[^ toc ^](#table-of-contents)

---

### OUTD

Operation
(C) ← (HL), B ← B – 1, HL ← HL – 1

Description
The contents of the HL register pair are placed on the address bus to select a location in
memory. The byte contained in this memory location is temporarily stored in the CPU.
Then, after the byte counter (B) is decremented, the contents of Register C are placed on
the bottom half (A0 through A7) of the address bus to select the I/O device at one of 256
possible ports. Register B can be used as a byte counter, and its decremented value is
placed on the top half (A8 through A15) of the address bus at this time. Next, the byte to
be output is placed on the data bus and written to the selected peripheral device. Finally,
the register pair HL is decremented.

Condition Bits Affected
S is unknown.
Z is set if B – 1 = 0; otherwise, it is reset.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3. 4)|4.00

Example
If Register C contains 07h, Register B contains 10h, the HL register pair contains 1000h,
and memory location 1000h contains 59h, then upon the execution of an OUTD instruc-
tion, Register B contains 0Fh, the HL register pair contains 0FFFh, and byte 59h is writ-
ten to the peripheral device mapped to I/O port address 07h.

[^ toc ^](#table-of-contents)

---

### OTDR

Operation
(C) ← (HL), B ← B – 1, HL ← HL – 1

Description
The contents of the HL register pair are placed on the address bus to select a location in
memory. The byte contained in this memory location is temporarily stored in the CPU.
Then, after the byte counter (B) is decremented, the contents of Register C are placed on
the bottom half (A0 through A7) of the address bus to select the I/O device at one of 256
possible ports. Register B can be used as a byte counter, and its decremented value is
placed on the top half (A8 through A15) of the address bus at this time. Next, the byte to
be output is placed on the data bus and written to the selected peripheral device. Then, reg-
ister pair HL is decremented and if the decremented B Register is not 0, the Program
Counter (PC) is decremented by two and the instruction is repeated. If B has gone to 0, the
instruction is terminated. Interrupts are recognized and two refresh cycles are executed
after each data transfer.

When B is set to 0 prior to instruction execution, the instruction outputs 256 bytes of data.

If B ≠ 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
5|21 (4, 5, 3, 4, 5)|5.25

Note:

If B = 0:

M Cycles | T States | 4 MHz E.T.
:---:|:---:|:---:
4|16 (4, 5, 3, 4)|4.00

Condition Bits Affected
S is unknown.
Z is set.
H is unknown.
P/V is unknown.
N is set.
C is not affected.

Example
Register C contains 07h, Register B contains 03h, the HL register pair contains 1000h,
and memory locations contain the following data.

Upon the execution of an OTDR instruction, the HL register pair contain 0FFDh, Register
B contains a 0, and a group of bytes is written to the peripheral device mapped to I/O port
address 07h in the following sequence:
